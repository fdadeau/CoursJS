<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    
    <link rel="stylesheet" href="../css/slides.css" type="text/css">
    
    <!--
    <script src="../lib/codemirror-5.31.0/lib/codemirror.js"></script>
    <link rel="stylesheet" href="../lib/codemirror-5.31.0/lib/codemirror.css">
 
    <script src="../lib/codemirror-5.31.0/mode/javascript/javascript.js"></script>
    <script src="../lib/codemirror-5.31.0/mode/css/css.js"></script>
    <script src="../lib/codemirror-5.31.0/mode/xml/xml.js"></script>
    <script src="../lib/codemirror-5.31.0/mode/htmlmixed/htmlmixed.js"></script>
-->
    <script src="../js/codemirror.js"></script>
    <link rel="stylesheet" href="../css/codemirror.css">
 
    <script src="../js/javascript.js"></script>
    <script src="../js/css.js"></script>
    <script src="../js/xml.js"></script>
    <script src="../js/htmlmixed.js"></script>
    

    <script src="../js/playground.js"></script>

    <script src="../js/slides.js"></script>
    
    <link rel="stylesheet" href="../css/playground.css">
    
    <title>Web avancé - Chapitre 1 - Javascript, le langage</title>
    
</head>
    
    
<!---

Javascript côté client (3)

- Introduction : histoire de Javascript
- Syntaxe, types de données, opérateurs, structures de contrôle
- Fonctions, curry
- Tableaux, foreach-map-reduce-etc
- Objets, prototypes, JSON
- choses à savoir : hoisting, strict mode, performances, versions (polyfill), 

-->

<body>


<mask>
    <img src="../images/logo_ufc.png" class="top right padding" style="height: 7vh;">
<!--    <img src="../images/abeille.png" class="top right" style="height: 20vh;">
    <img src="../images/logo-femto.png" class="top left padding" style="height: 7vh;">-->
</mask>   
    
    
<slideshow>

    <title>Chapitre 1 - Javascript, le langage</title>
    
    <slide>
        <title1>@ref{title}</title1>
        <title2>Cours &ldquo;Web avancé&rdquo; - Licence Info 3<sup>ème</sup> année</title2>
        <title3>Frédéric Dadeau - <a href="mailto:frederic.dadeau@univ-fcomte.fr">frederic.dadeau@univ-fcomte.fr</a></title3>
    </slide>
    
    <section>Un peu d'histoire</section>
      
    <slide outline class="no-navigation section currentSection">
        <title>Plan du chapitre</title>
    </slide>
    
    <slide>
        <title>&ldquo;Scheme dans le navigateur&rdquo;</title>
    
        <block title="L'histoire vue par Douglas Crockford">
            <p>Big bang &rarr; Apparition de l'homme &rarr; Javascript</p>
            <p>Voir <url>https://www.youtube.com/watch?v=wWi9lPEfNHc</url></p>
        </block>
        
        <block title="Back to 1995...">
        <ul>
            <li>Large domination de Netscape, à une époque où le web n'est qu'un moyen de diffuser du contenu. </li>
            <li>Mark Anderssen, responsable de Netscape, souhaite ajouter de l'interactivité côté client, avec un langage utilisable 
            par les designers et les développeurs. </li>
            <li>Netscape missionne Brendon Eich pour embarquer... <strong>Scheme dans le navigateur</strong> (#WTF)</li>
            <li>Fusion Sun Microsystems (Java) avec Netscape &rarr; Java revient en force, mais est jugé trop complexe tel quel. </li>
            <li>Finalement, Eich s'inspire de Java pour créer l'ancêtre de Javascript, appelé Mocha, en seulement 10 jours.</li>
        </ul>
        </block>
        
    </slide>
    
    <slide>
        <title>De Mocha à Javascript</title>

        <block title="Mocha/LiveScript/Javascript vs. Java">
        <p>Mocha emprunte la syntaxe de Java et conserve l'aspect fonctionnel de Scheme, et l'orienté objet par prototypes de Smalltalk. </p>
        <p>Le nom Mocha évoluera vers LiveScript, puis vers <strong>Javascript</strong> pour rappeler Java. </p>
                
        <p> On a donc d'un côté Javascript, souple et léger, et Java, plus lourd mais plus riche, utilisé pour développer des composants web. </p>
        </block>
        
        <block title="Javascript (Netscape) vs. JScript (Microsoft)">
        <img src="./images/best_viewed_with_ie_or_netscape2.jpg" style="float: right; display: block; margin-left: 2vh; border: solid 1px #000; width: 20vh; ">
            
        <p>A l'époque la concurrence était rude entre Netscape (Navigator) et Microsoft (Internet Explorer). Microsoft a donc proposé 
            sa propre implémentation de Javascript qu'il a nommé JScript. </p>
        
        <p>
            Bien évidemment, Javascript et JScript ne sont pas compatibles, 
        car les fondements du langage n'ont pas été standardisés... Les développeurs devaient donc développer en double leurs sites, 
        ou apposer un des fameux "Best viewed with Netscape" or "Best viewed with Internet Explorer". </p>
        </block>
        
    </slide>
    
    <slide>
        <title>Vers un standard : ECMAScript</title>
        
        <block title="Standardisation">
            <ul>
                <li>Première tentative auprès du W3C &rarr; échec (contentieux avec Netscape)</li>
                <li>Seconde approche avec ECMA &rarr; succès</li>
            </ul>
        </block>
        
        <block title="ECMA">
            <p>ECMA European Computer Manufacturer Association, fondée en 1961, se consacre à la standardisation de systèmes
            d'information et de communication. </p>
            <p>En novembre 1996, Netscape soumet Javascript à ECMA pour en faire une spécification standard :</p>
            <ul>
                <li>tous les acteurs (développeurs de navigateurs, géants du net, etc.) ont leur mot à dire - comité technique TC39</li>
                <li>toutes les implémentations du langage sont consistantes au standard ECMA-262 qui définit ECMAScript 
                (le nom Javascript étant propriété d'Oracle qui a racheté Sun Microsystems)</li>
            </ul>
            <p>De nos jours, ECMAScript désigne le standard ECMA-262 et Javascript désigne le langage en pratique (son implémentation). </p>
        </block>
    </slide>
    
    <slide>
        <title>ECMAScript - évolutions</title>
        <block title="Les versions d'ECMAScript">
            <table style="font-size: 90%;">
                <tr><td>Version</td><td>Date</td><td>Description</td></tr>
                <tr><td>1</td><td>06/1997</td><td>Première édition</td></tr>
                <tr><td>2</td><td>06/1998</td><td>Modifications cosmétiques</td></tr>
                <tr><td>3</td><td>12/1999</td><td>Ajout des expressions régulières, try/catch, meilleure gestion des chaînes, etc.</td></tr>
                <tr><td>4</td><td colspan="2">abandonnée</td></tr>
                <tr><td>5</td><td>12/2009</td><td>Mode strict, clarification d'ambiguités dans ES3, getters/setters, support JSON, réflexion sur les objets</td></tr>
                <tr><td>6 / ES2015</td><td>06/2015</td><td>Classes/modules, itérateurs, arrow functions, tableaux typés, collections, 
                promesses, améliorations maths, réflexion et proxies</td></tr>
                <tr><td>7 / ES2016</td><td>06/2016</td><td>Amélioration de la prise en compte d'ES2015, ajout de l'exponentiation <code>**</code> et de la fonction <code>Array.prototype.includes</code></td></tr>
                <tr><td>8 / ES2017</td><td>06/2017</td><td>Asychronisme avec <code>await</code>/<code>async</code></td></tr>
                <tr><td>9 / ES2018</td><td>06/2018</td><td>Rest/Spread properties, amélioration des RegExp</td></tr>
                <tr><td>ES2019</td><td>06/2019</td></td><td>Array flattening, <code>Object.fromEntries</code>, amélioration JSON</url></td></tr>
                <tr><td>ES2020</td><td>06/2020</td></td><td>BigInt, Dynamic Import, optional chaining, <code>matchAll</code>, etc. </url></td></tr>
            </table>
            <p>Chaque proposition d'amélioration est discutée par le comité technique TC39 et progressivement validée <br>
                <url>https://www.ecma-international.org/publications/standards/Ecma-262.htm</url>. </p>
        </block>
        
        <p>Pour plus de détails sur le processus d'évolution du standard et l'histoire de Javascript : <br>
            <url>https://www.youtube.com/watch?v=gytOcNFV1dM</url>
        </p>
    </slide>
    
    <slide>
        <title>Javascript, un langage de script interprété</title>
        <block title="Les interpréteurs Javascript">
        <p>Parmi tous les nombreux moteurs interprétant Javascript, on retiendra les trois principaux : </p>
        
            <ul>
                <li><strong>SpiderMonkey</strong> - Firefox, Gecko Layout Engine, Adobe Acrobat</li>
                <li><strong>V8</strong> - Chrome, Node.js, Opera, MarkLogic</li>
                <li><strong>JavaScriptCore</strong> - Webkit, Safari, Qt5</li>
            </ul>
        <p>Tous 3 supportent la dernière spécification ES2018. D'autres (comme Chakra pour MS Edge) bloquent à 
            des versions antérieures d'ES et ne proposent éventuellement que certaines fonctionnalités d'ES2018.
            </p>
        
        <p>A noter que pour des questions de performances, ces moteurs utilisent la technique de compilation Just-In-Time,
            qui consiste à compiler à la voler le programme plutôt qu'avant son exécution (compromis entre compilation 
            ahead-of-time et interprétation). <br>
            <url>https://www.youtube.com/watch?v=p-iiEDtpy6I</url> </p>
            
        <p>Mauvaises nouvelles : le standard évolue régulièrement, et même si les navigateurs suivent, les utilisateurs
            ne les mettent pas forcément à jour systématiquement. </p>    
            
        </block>
    
    <p>Plus de détails : <url>https://en.wikipedia.org/wiki/List_of_ECMAScript_engines</url></p>
    
    </slide>
    
    
    <section>Syntaxe et types de données</section>
      
    <slide outline class="no-navigation  section currentSection">
        <title>Plan du chapitre</title>
    </slide>
    
    <slide>
        <title>La syntaxe de Javascript</title>
        
        <block title="Une syntaxe proche de Java">
            <p>On retrouve en Javascript les ingrédients principaux en terme de syntaxe du langage Java :</p>
            <ul>
                <li>des instructions qui se terminent par <code>;</code></li>
                <li>des commentaires sur une ligne avec <code>//</code> ou sur (potentiellement) plusieurs <code>/* ... */</code></li>
                <li>des blocs de code délimités par <code>{ ... }</code></li>
                <li>les structures de contrôle classiques <code>if</code>, <code>while</code>, <code>for</code>, etc.</li>
            </ul>
        </block>
    </slide>    
    
    <slide>
        <title>Les variables (première approche)</title>
        
        <block title="Syntaxe des variables">
            <p>En Javascript, les variables servent à stocker des valeurs. Dans une portée donnée, toutes les variables doivent 
            être uniques. </p>
            <table>
                <tr><td style="width: 25%;">Instruction</td><td>Description</td></tr>
                <tr>
                    <td><code>var x = 42;</code></td>
                    <td> déclare une variable nommée <code>x</code> qui a pour valeur initiale <code>42</code></td>
                </tr>
                <tr>
                    <td><code>var y;</code></td>
                    <td>déclare une variable qui n'a pas encore de valeur (valeur <code>undefined</code>)</td>
                </tr>
                <tr>
                    <td><code>y = "42";</code></td>
                    <td>assigne à la variable <code>y</code> (déclarée précédemment) la chaîne <code>"42"</code></td>
                </tr>
                <tr>
                    <td><code>var z = 42, t = y;</code></td>
                    <td>permet de déclarer deux variables (<code>z</code> et <code>t</code>) et de leur affecter leurs valeurs initiales<br>(resp. <code>42</code> et la valeur de la variable <code>y</code> définie précédemment)</td>
                </tr>
            </table>
        </block>
        
        <block title="Nommage des variables">
            <p>Comme en Java, le nommage des variables est régi par les règles suivantes :</p>
            <ul>
                <li>les noms de variables contiennent des lettres, des chiffres, <code>_</code>, <code>$</code> et ne doivent pas commencer par un chiffre</li>
                <li>les noms de variables sont sensibles à la casse : <code>x</code> et <code>X</code> sont deux noms différents</li>
                <li>les mot-clés du langage Javascript ne sont pas autorisés</li>
            </ul>
        </block>
        
    </slide>
    
    
    <subsection>Types de données</subsection>

    <slide outline class="no-navigation section currentSection currentSubsection">
        <title>Plan du chapitre</title>
    </slide>

    <slide>
        <title>Les types de données</title>
        
        <block title="Plusieurs types de données">
        <ul>
            <li><code>number</code> - tous les nombres entiers ou flottants : <code>42</code>, <code>1.0</code>, <code>-42e3</code></li>
            <li><code>boolean</code> - valeurs booléenne : <code>true</code>, <code>false</code>, <code>42 &gt; "5"</code></li>
            <li><code>string</code> - chaînes de caractères délimitées par des guillemets simples ou doubles : <code>"Quarante-Deux"</code>, <code>'La réponse à la grande question sur la vie, l\'univers et tout le reste.'</code>, <code>"42"</code> </li>
            <li><code>object</code> - type agrégé avec prototype : <code>{prenom: "Fred", nombre: 42}</code></li>
            <li><code>date</code> - type Date avec fonctions de manipulation <code>Date()</code></li>
            <li><code>array</code> - tableaux : <code>[]</code>, <code>[42, "quarante-deux"]</code></li>
            <li><code>function</code> - une fonction, <i>first-class citizen</i> en Javascript : <code>function(...) { ... }</code></li>
            <li><code>undefined</code> - type d'une variable non définie</li>
        </ul>
        </block>
        
    </slide>
    
    <slide>
        <title>Quelques constantes remarquables</title>
        
        <block title="Quelques constantes intéressantes">
        <ul>
            <li><code>true</code>, <code>false</code> - valeurs booléennes</li>
            <li><code>Infinity</code> - l'infini</li>
            <li><code>NaN</code> - not a number</li>
            <li><code>undefined</code> - absence de valeur (cas d'une variable déclarée, mais non définie/affectée)</li>    
            <li><code>null</code> - valeur vide (mais valeur quand même)</li>       
        </ul>
        </block>
    
    </slide>
    
    <slide>
        <title>Les ennuis commencent...</title>
        
        <block title="Attention : typage faible">
            <p>Javascript est faiblement typé, cela signifie que : </p>
            <ul>
                <li>on ne définit pas le type d'une variable lorsque l'on déclare celle-ci :<br><code>var x = 42;</code></li>
                <li>le type d'une variable peut changer par une affectation :<br><code>x = "Quarante-Deux";</code> </li>
                <li>des conversions de type au sein des expressions peuvent avoir lieu (en fonction des opérateurs), mais sans impact sur le type initial de la variable :<br><code>var y = 40 + 2 * x;</code> va nécessiter la conversion de la valeur de <code>x</code> calculer <code>y</code> (type casting/conversion/coercion). </li>
            </ul>
        </block>
        
    </slide>
    
    <slide>
        <title>Conversions de type</title>
        
        <row>
        
        <block title="Quelques conversions de booléens">
        <table class="centered">
            <tr>
                <td>Valeur booléenne</td><td>En nombre</td><td>En chaîne</td>
            </tr>    
            <tr><td><code>false</code></td><td><code>0</code></td><td><code>"false"</code></td></tr>    
            <tr><td><code>true</code></td><td><code>1</code></td><td><code>"true"</code></td></tr>    
        </table>
        
        </block>

        <block title="Quelques conversions de nombres">
        <table class="centered">
            <tr>
                <td>Valeur numérique</td><td>En chaîne</td><td>En booléen</td>
            </tr>    
            <tr><td><code>0</code></td><td><code>"0"</code></td><td><code>false</code></td></tr>    
            <tr><td><code>1</code></td><td><code>"1"</code></td><td><code>true</code></td></tr>    
            <tr><td><code>42</code></td><td><code>"42"</code></td><td><code>true</code></td></tr>    
            <tr><td><code>0.0</code></td><td><code>"0.0"</code></td><td><code>false</code></td></tr>    
            <tr><td><code>NaN</code></td><td><code>"NaN"</code></td><td><code>false</code></td></tr>    
            <tr><td><code>Infinity</code></td><td><code>"Infinity"</code></td><td><code>true</code></td></tr>    
            <tr><td><code>-Infinity</code></td><td><code>"-Infinity"</code></td><td><code>true</code></td></tr>    
        </table>
        </block>
        
        </row>
            
    </slide>
    
     <slide>
        <title>Conversions de type</title>
                 
        <block title="Quelques conversions de chaînes">
        <table class="centered">
            <tr>
                <td>Valeur</td><td>En nombre</td><td>En booléen</td>
            </tr>    
            <tr><td><code>"0"</code></td><td><code>0</code></td><td><code>true</code> (!)</td></tr>    
            <tr><td><code>"000"</code></td><td><code>0</code></td><td><code>true</code> (!)</td></tr>    
            <tr><td><code>"42"</code></td><td><code>42</code></td><td><code>true</code></td></tr>    
            <tr><td><code>""</code></td><td><code>0</code> (!)</td><td><code>false</code> (!)</td></tr>    
            <tr><td><code>"quarante-deux"</code></td><td><code>NaN</code></td></td><td><code>true</code></td></tr>    
        </table>
        <p>On peut se dire que la valeur booléenne d'une chaîne <code>s</code> correspond à <code>s.length > 0</code>.</p>
        
        </block>
    
    </slide>

     <slide>
        <title>Conversions de type</title>

        <block title="Quelques conversions de tableaux">
        <table class="centered">
            <tr>
                <td>Valeur</td><td>En nombre</td><td>En chaîne</td><td>En booléen</td>
            </tr>    
            <tr><td><code>[]</code></td><td><code>0</code> (!)</td><td><code>""</code></td><td><code>true</code></td></tr>    
            <tr><td><code>[42]</code></td><td><code>42</code> (!)</td><td><code>"42"</code></td><td><code>true</code></td></tr>    
            <tr><td><code>[40,2]</code></td><td><code>NaN</code></td><td><code>"40,2"</code></td><td><code>true</code></td></tr>    
            <tr><td><code>["quarante"]</code></td><td><code>NaN</code></td><td><code>"quarante"</code></td><td><code>true</code></td></tr>    
            <tr><td><code>["quarante",2]</code></td><td><code>NaN</code></td><td><code>"quarante,2"</code></td><td><code>true</code></td></tr>    
        </table>
        </block>

     </slide>

     <slide>
        <title>Conversions de type</title>

        <block title="Quelques conversions">
        <table>
            <tr>
                <td>Valeur</td><td>En nombre</td><td>En chaîne</td><td>En booléen</td>
            </tr>    
            <tr><td colspan="4"><i>Conversions d'objets :</i></td></tr>
            <tr><td><code>{}</code></td><td><code>NaN</code></td><td><code>"[object Object]"</code></td><td><code>true</code></td></tr>    
            <tr><td colspan="4"><i>Conversions de fonctions :</i></td></tr>
            <tr><td><code>function(...){...}</code></td><td><code>Nan</code></td><td><code>"function(...){...}"</code></td><td><code>true</code></td></tr>    
            <tr><td colspan="4"><i>Conversions de valeurs remarquables :</i></td></tr>
            <tr><td><code>null</code></td><td><code>0</code> (!)</td><td><code>"null"</code></td><td><code>false</code></td></tr>    
            <tr><td><code>undefined</code></td><td><code>NaN</code></td><td><code>"undefined"</code></td><td><code>false</code></td></tr>    
        </table>
        
        </block>        

    </slide>


    <subsection>Opérateurs</subsection>
    

    <slide>
        <title>Opérateurs de conversion de type</title>
        
        <row>
        
        <block title="Conversion de type explicite">
            <table>
                <tr>
                    <td><code>Number("42")</code></td><td>&rarr; <code>42</code></td>
                </tr>
                <tr>
                    <td><code>Number(false)</code></td><td>&rarr; <code>0</code></td>
                </tr>
                <tr>
                    <td><code>String(42)</code></td><td>&rarr; <code>"42"</code></td>
                </tr>    
                <tr>
                    <td><code>String([42,"quarante-deux"])</code></td><td>&rarr; <code>"42,quarante-deux"</code></td>
                </tr>    
            </table>
        </block>
        
        <block title="Conversion de type implicite">
            <table>
                <tr>
                    <td><code>"4.2" * 10</code></td><td>&rarr; <code>42</code></td>
                </tr>
                <tr>
                    <td><code>"42" + 40 + 2</code></td><td>&rarr; <code>"42402"</code></td>
                </tr>
                <tr>
                    <td><code>40 + 2 + "42"</code></td><td>&rarr; <code>"4242"</code></td>
                </tr>
                <tr>
                    <td><code>"42" &lt; 43</code></td><td>&rarr; <code>true</code></td>
                </tr>
            </table>
        </block>
            
        </row>
    
    </slide>
    
    <slide>
        <title>Opérateurs pour connaître les types</title>
        
        <row>

        <block title="Opérateur <code>typeof</code>">
            <p><code>type of</code> permet de connaître le type d'une valeur. Cette fonction renvoie une chaîne de caractères.</p>
                 <table style="font-size: 90%;">
                <tr><td><code>typeof "42"</code></td><td>&rarr; <code>"string"</code></td>
                <tr><td><code>typeof 42</code></td><td>&rarr; <code>"number"</code></td>
                <tr><td><code>typeof 42 == "42"</code></td><td>&rarr; <code>"boolean"</code></td>
                <tr><td><code>typeof {}</code></td><td>&rarr; <code>"object"</code></td>
                <tr><td><code>typeof {x: 42}</code></td><td>&rarr; <code>"object"</code></td>
                <tr><td><code>typeof [42]</code></td><td>&rarr; <code style="font-weight: bold;">"object"</code> (!)</td>
                <tr><td><code>typeof new Date()</code></td><td>&rarr; <code style="font-weight: bold;">"object"</code> (!)</td>
                <tr><td><code>typeof function(...){...}</code></td><td>&rarr; <code>"function"</code></td>
                <tr><td><code>typeof null</code></td><td>&rarr; <code>"object"</code></td>
                <tr><td><code>typeof undefined</code></td><td>&rarr; <code>"undefined"</code></td>
            </table>
        </block>

            <block title="Utilisation de la propriété <code>constructor</code>">
                <p>La propriété <code>constructor</code> appliqué à n'importe quelle donnée permet de connaître un peu plus précisément son type.</p>
                 <table style="font-size: 90%;">
                <tr><td style="width: 45%;"><code>"42".constructor</code></td><td>&rarr; <code>function String() {...}</code></td>
                <tr><td><code>42.constructor</code></td><td>&rarr; <code>function Number() {...}</code></td>
                <tr><td><code>true.constructor</code></td><td>&rarr; <code>function Boolean() {...}</code></td>
                <tr><td><code>{}.constructor</code></td><td>&rarr; <code>function Object() {...}</code></td>
                <tr><td><code>[42].constructor</code></td><td>&rarr; <code>function Array() {...}</code> (!)</td>
                <tr><td><code>new Date().constructor</code></td><td>&rarr; <code>function Date() {...}</code> (!)</td>
                <tr><td><code>function(...){...}.constructor</code></td><td>&rarr; <code>function Function() {...}</code></td>
            </table>
            </block>    
            
        </row>
        
    </slide>
    
    
    <slide>
        <title>Opérateurs classiques</title>
        
        <row> 
          <block title="Opérateurs arithmétiques">
            <p>On retrouve les opérateurs arithmétiques qui opèrent entre deux nombres :</p>
            <table class="centered">
            <tr><td>Opérateur</td><td colspan=2>Exemple</td></tr>
            <tr><td><code>+</code></td><td><code>40 + 2</code></td><td>&rarr; <code>42</code></td></tr>
            <tr><td><code>-</code></td><td><code>45 - 3</code></td><td>&rarr; <code>42</code></td></tr>
            <tr><td><code>*</code></td><td><code>6 * 7</code></td><td>&rarr; <code>42</code></td></tr>
            <tr><td><code>/</code></td><td><code>255 / 6</code></td><td>&rarr; <code>42.5</code></td></tr>
            <tr><td><code>%</code></td><td><code>255 % 6</code></td><td>&rarr; <code>3</code></td></tr>
          </table>
        </block>
        
            <block title="Opérateurs d'affectation">
            <p>On retrouve les opérateurs classique d'affectation :</p>
            <table>
            <tr><td>Opérateur</td><td>Exemple</td><td>Equivalent à</td></tr>
            <tr><td><code>=</code></td><td><code>x = y</code></td><td><code>x = y</code></td></tr>
            <tr><td><code>+=</code></td><td><code>x += 42</code></td><td><code>x = x + 42</code></td></tr>
            <tr><td><code>-=</code></td><td><code>x -= 42</code></td><td><code>x = x - 42</code></td></tr>
            <tr><td><code>*=</code></td><td><code>x *= 42</code></td><td><code>x = x * 42</code></td></tr>
            <tr><td><code>/=</code></td><td><code>x /= 42</code></td><td><code>x = x / 42</code></td></tr>
            <tr><td><code>%=</code></td><td><code>x %= 42</code></td><td><code>x = x % 42</code></td></tr>
            <tr><td><code>++</code></td><td><code>x++</code></td><td><code>x = x + 1</code></td></tr>
            <tr><td><code>--</code></td><td><code>x--</code></td><td><code>x = x - 1</code></td></tr>
            </table>
            </block>
        </row>
    </slide>

    <slide>
        <title>Opérateurs de comparaison</title>

        <block title="Opérateurs booléens d'égalité et d'inégalité">
            <row>
                <div>
                    <p>Comparaison des valeurs (avec conversion de type)</p>
                    <table class="centered">
                        <tr><td>Opérateur</td><td>Exemple</td><td>Valeur</td></tr>
                        <tr><td rowspan="4"><code>==</code></td><td><code>42 == 42</code></td><td><code>true</code></td></tr>
                        <tr><td><code>42 == 40</code></td><td><code>false</code></td></tr>
                        <tr><td><code>42 == "42"</code></td><td><code>true</code></td></tr>
                        <tr><td><code>null == undefined</code></td><td><code>true</code></td></tr>
                        <tr><td rowspan="3"><code>!=</code></td><td><code>42 != 42</code></td><td><code>false</code></td></tr>
                        <tr><td><code>42 != 40</code></td><td><code>true</code></td></tr>
                        <tr><td><code>42 != "40"</code></td><td><code>true</code></td></tr>
                    </table>
                </div>
                
                <div>
                    <p>Comparaison des types et des valeurs</p>
                    <table class="centered">
                    <tr><td>Opérateur</td><td>Exemple</td><td>Valeur</td></tr>
                        <tr><td rowspan="4"><code>===</code></td><td><code>42 === 42</code></td><td><code>true</code></td></tr>
                        <tr><td><code>42 === 40</code></td><td><code>false</code></td></tr>
                        <tr><td><code>42 === "42"</code></td><td><code>false</code></td></tr>
                        <tr><td><code>null === undefined</code></td><td><code>false</code></td></tr>
                        <tr><td rowspan="3"><code>!==</code></td><td><code>42 !== 42</code></td><td><code>false</code></td></tr>
                        <tr><td><code>42 !== 40</code></td><td><code>true</code></td></tr>
                        <tr><td><code>42 !== "42"</code></td><td><code>true</code></td></tr>
                    </table>
                </div>
            </row>
        </block>    
    </slide>

    <slide>
        
        <title>Opérateurs de comparaison</title>
            <block title="Opérateurs d'inégalité">
                <table>
                    <tr><td>Opérateur</td><td>Exemple</td><td>Valeur</td></tr>
                    <tr><td rowspan="7"><code>>=</code></td><td><code>42 >= 40</code></td><td><code>true</code></td></tr>
                    <tr><td><code>40 >= 42</code></td><td><code>false</code></td></tr>
                    <tr><td><code>"abc" >= "ABC"</code></td><td><code>true</code></td></tr>
                    <tr><td><code>42 >= "40"</code></td><td><code>false</code></td></tr>
                    <tr><td><code>true >= 0</code></td><td><code>true</code></td></tr>
                    <tr><td><code>[4] >= 42</code></td><td><code>false</code></td></tr>
                    <tr><td><code>"d" >= function(){}</code></td><td><code>false</code></td></tr>
                    <tr><td><code>&gt;</code></td><td><code>42 &gt; "40"</code></td><td><code>false</code></td></tr>
                    <tr><td><code>&lt;=</code></td><td><code>42 &lt;= 40</code></td><td><code>true</code></td></tr>
                    <tr><td><code>&lt;</code></td><td><code>42 &lt; "40a"</code></td><td><code>false</code></td></tr>
                </table>
                <p>Ces opérateurs s'appliquent entre chaînes ou entre nombres. Les données sont automatiquement 
                converties vers l'un ou l'autre de ces types. </p>
            </block>    

    </slide>

   <slide>
        <title>Opérateurs booléens</title>

        <block title="Opérateurs booléens et bit-à-bit">
            <row>
                <div>
                    <p>Opérateurs booléens</p>
                    <table class="centered" style="font-size: 90%;">
                        <tr><td>Opérateur</td><td>Exemple</td><td>Valeur</td></tr>
                        <tr><td><code>&amp;&amp;</code></td><td><code>true &amp;&amp; false</code></td><td><code>false</code></td></tr>
                        <tr><td><code>||</code></td><td><code>true || false</code></td><td><code>true</code></td></tr>
                        <tr><td><code>!</code></td><td><code>!"42"</code></td><td><code>false</code></td></tr>
                    </table>
                    
                    <p>Tester le type d'un objet</p>
                    <table class="centered" style="font-size: 90%;">
                        <tr><td>Opérateur</td><td>Exemple</td><td>Valeur</td></tr>
                        <tr><td rowspan="2"><code>instanceof</code></td><td><code>[] instanceof Array</code></td><td><code>true</code></td></tr>
                        <tr><td><code>[] instanceof Object</code></td><td><code>true</code></td></tr>
                    </table>
                    
                </div>
                
                <div>
                    <p>Opérateurs bit-à-bit (sur nombres 32 bits)</p>
                    <table class="centered">
                    <tr><td>Opérateur</td><td>Exemple</td><td>Valeur</td></tr>
                        <tr><td><code>&amp;</code></td><td><code>5 &amp; 2</code></td><td><code>0</code></td></tr>
                        <tr><td><code>|</code></td><td><code>5 | 2</code></td><td><code>7</code></td></tr>
                        <tr><td><code>~</code></td><td><code>~ 5</code></td><td><code>-6</code></td></tr>
                        <tr><td><code>^</code></td><td><code>5 ^ 2</code></td><td><code>7</code></td></tr>
                        <tr><td><code>&lt;&lt;</code></td><td><code>5 &lt;&lt; 2</code></td><td><code>20</code></td></tr>
                        <tr><td><code>&gt;&gt;</code></td><td><code>-5 >> 2</code></td><td><code>-2</code></td></tr>
                        <tr><td><code>&gt;&gt;&gt;</code></td><td><code>-5 >>> 2</code></td><td><code>1073741822</code></td></tr>
                    </table>
                    <p>Ces opérateurs peuvent être également être utilisés <br>dans des affectations (ex. <code>x >>= 2</code>).</p>
                </div>
            </row>
        </block>    
    </slide>

    
      
    <slide>
        <title>Précédence des opérateurs</title>
                
        <block title="Priorités">
            <table class="centered" style="font-size: 90%;">
                <tr>
                    <td>Niveau</td><td>Opérateur</td><td>Signification</td><td>Exemple</td>
                </tr>
                <tr>
                    <td>19</td><td><code>(...)</code></td><td>Groupement</td><td><code>(40+2)</code></td>
                </tr>
                <tr>
                    <td rowspan="2">18</td><td><code>.</code></td><td>accès à une propriété</td><td><code>point.x</code></td>
                </tr>
                <tr>
                    <td><code>[]</code></td><td>accès à une propriété</td><td><code>point["x"]</code></td>
                </tr>
                <tr>
                    <td rowspan="2">17</td><td><code>()</code></td><td>appel de fonction</td><td><code>calcul()</code></td>
                </tr>
                <tr>
                    <td><code>new</code></td><td>création d'objet</td><td><code>new Point()</code></td>
                </tr>
                <tr>
                    <td rowspan="2">16</td><td><code>++</code></td><td>incrément postfixé</td><td><code>i++</code></td>
                </tr>
                <tr>
                    <td><code>--</code></td><td>décrément postfixé</td><td><code>i--</code></td>
                </tr>
                <tr>
                    <td rowspan="4">15</td><td><code>++</code></td><td>incrément préfixé</td><td><code>++i</code></td>
                </tr>
                <tr>
                    <td><code>--</code></td><td>décrément préfixé</td><td><code>--i</code></td>
                </tr>
                <tr>
                    <td><code>!</code></td><td>non logique</td><td><code>!(42 == "42")</code></td>
                </tr>
                <tr>
                    <td><code>typeof</code></td><td>type d'une donnée</td><td><code>typeof 42</code></td>
                </tr>
            </table>
        </block>
    
        <p>Source : <url>https://www.w3schools.com/js/js_arithmetic.asp</url></p>
        
    </slide>

    <slide>
        <title>Précédence des opérateurs</title>
                
        <block title="Priorités">
            <table class="centered" style="font-size: 90%;">
                <tr>
                    <td>Niveau</td><td>Opérateur</td><td>Signification</td><td>Exemple</td>
                </tr>
                <tr>
                    <td rowspan="4">14</td><td><code>*</code></td><td>multiplication</td><td><code>6 * 7</code></td>
                </tr>
                <tr>
                    <td><code>/</code></td><td>division</td><td><code>21 / 0.5</code></td>
                </tr>
                <tr>
                    <td><code>%</code></td><td>modulo</td><td><code>85 % 43</code></td>
                </tr>
                <tr>
                    <td><code>**</code></td><td>exponentiel</td><td><code>2 ** 16</code></td>
                </tr>
                <tr>
                    <td rowspan="2">13</td><td><code>+</code></td><td>addition</td><td><code>40 + 2</code></td>
                </tr>
                <tr>
                    <td><code>-</code></td><td>soustraction</td><td><code>45 - 3</code></td>
                </tr>
                <tr>
                    <td rowspan="3">12</td><td><code>&lt;&lt;</code></td><td>décalage vers la gauche</td><td><code>x &lt;&lt; 2</code></td>
                </tr>
                <tr>
                    <td><code>>></code></td><td>décalage vers la droite</td><td><code>x >> 2</code></td>
                </tr>
                <tr>
                    <td><code>>>></code></td><td>décalage vers la droite non signé</td><td><code>x >>> 2</code></td>
                </tr>
            </table>
        </block>
    
        <p>Source : <url>https://www.w3schools.com/js/js_arithmetic.asp</url></p>
        
    </slide>

  <slide>
        <title>Précédence des opérateurs</title>
                
        <block title="Priorités">
            
            <row>
            
            <table class="centered" style="font-size: 90%;">
                <tr>
                    <td>Niveau</td><td>Opérateur</td><td>Signification</td><td>Exemple</td>
                </tr>
                <tr>
                    <td rowspan="4">11</td><td><code>&lt;</code></td><td>inférieur</td><td><code>6 &lt; 7</code></td>
                </tr>
                <tr>
                    <td><code>&lt;=</code></td><td>inférieur ou égal</td><td><code>6 &lt;= 7</code></td>
                </tr>
                <tr>
                    <td><code>&gt;=</code></td><td>supérieur</td><td><code>6 > 7</code></td>
                </tr>
                <tr>
                    <td><code>&gt;=</code></td><td>supérieur ou égal</td><td><code>6 &lt;= 7</code></td>
                </tr>
                <tr>
                    <td rowspan="4">10</td><td><code>==</code></td><td>égalité</td><td><code>42 == "42"</code></td>
                </tr>
                <tr>
                    <td><code>===</code></td><td>égalité stricte</td><td><code>42 === "42"</code></td>
                </tr>
                <tr>
                    <td><code>!=</code></td><td>inégalité</td><td><code>42 != "40"</code></td>
                </tr>
                <tr>
                    <td><code>!==</code></td><td>inégalité stricte</td><td><code>42 !== "42"</code></td>
                </tr>
                <tr>
                    <td>6</td><td><code>&amp;&amp;</code></td><td>et logique</td><td><code>true &amp;&amp; false</code></td>
                </tr>
                <tr>
                    <td>5</td><td><code>||</code></td><td>ou logique</td><td><code>true || false</code></td>
                </tr>
            </table>
                <!--
        </block>
    
        <p>Source : <url>https://www.w3schools.com/js/js_arithmetic.asp</url></p>
        
    </slide>


  <slide>
        <title>Précédence des opérateurs (4/4)</title>
 
        <block title="Priorités">
    -->
            
            <table class="centered" style="font-size: 90%;">
                <tr>
                    <td>Niveau</td><td>Opérateur</td><td>Signification</td><td>Exemple</td>
                </tr>
                <tr>
                    <td rowspan="12">3</td><td><code>=</code></td><td>affectation</td><td><code>x = 42</code></td>
                </tr>
                <tr>
                    <td><code>+=</code></td><td>affectation</td><td><code>x += 42</code></td>                
                </tr>
                <tr>
                    <td><code>-=</code></td><td>affectation</td><td><code>x -= 42</code></td>                
                </tr>
                <tr>
                    <td><code>*=</code></td><td>affectation</td><td><code>x *= 42</code></td>                
                </tr>
                <tr>
                    <td><code>/=</code></td><td>affectation</td><td><code>x /= 42</code></td>                
                </tr>
                <tr>
                    <td><code>%=</code></td><td>affectation</td><td><code>x %= 42</code></td>                
                </tr>
                <tr>
                    <td><code>&lt;&lt;=</code></td><td>affectation</td><td><code>x &lt;&lt;= 2</code></td>                
                </tr>
                <tr>
                    <td><code>&gt;&gt;=</code></td><td>affectation</td><td><code>x &gt;&gt;= 2</code></td>                
                </tr>
                <tr>
                    <td><code>&gt;&gt;&gt;=</code></td><td>affectation</td><td><code>x &gt;&gt;&gt;= 2</code></td>                
                </tr>
                <tr>
                    <td><code>&amp;=</code></td><td>affectation</td><td><code>x &amp;= 2</code></td>                
                </tr>
                <tr>
                    <td><code>^=</code></td><td>affectation</td><td><code>x ^= 2</code></td>                
                </tr>
                <tr>
                    <td><code>|=</code></td><td>affectation</td><td><code>x |= 2</code></td>                
                </tr>
            </table>
            </row>
        </block>
            
    </slide>    

    <subsection>Structures de contrôle</subsection>

    <slide outline class="no-navigation section currentSection currentSubsection">
        <title>Plan du chapitre</title>
    </slide>

    <slide>
        <title>Les structures de contrôle</title>
        
        <row>
            <block title="Les structures classiques">
                <table>
                    <tr><td>Description</td><td>Syntaxe</td></tr>
                    <tr><td rowspan="2">Blocs de code</td><td><code>{ ... }</code></td></tr>
                    <tr><td><code><i>une seule instruction</i></code></td></tr>
                    <tr><td rowspan="3">Alternatives</td><td><code>if (...) ... else ... </code></td></tr>
                    <tr><td><code>... ? ... : ... </code></td></tr>
                    <tr><td><code>switch (...) { case ... }</code></td></tr>
                    <tr><td rowspan="3">Boucles</td><td><code>while (...) ... </code></td></tr>
                    <tr><td><code>do ... while (...)</code></td></tr>
                    <tr><td><code>for (... ; ... ; ...) ... </code></td></tr>
                </table>
            </block>

            <block title="Les structures moins classiques pour les L3 Info...">
                <ul>
                    <li><code>for ... in</code></li>
                    <li><code>for ... of</code></li>
                    <li><code>throw</code></li>
                    <li><code>try ... catch ... finally</code></li>
                    <li><code>continue</code></li>
                    <li><code>break</code></li>
                </ul>
            </block>
        </row>
    </slide>


    <slide>
        <title>Structures de contrôle peu conventionnelles</title>
        
        <block title="for...in">
            
            <div class="playground nohtml nocss noiframe console h40" data-href="./examples/js1.html" data-opened="js"></div>
        
        </block>
        
    </slide>

    <slide>
        <title>Structures de contrôle peu conventionnelles</title>
        
        <block title="for...of">
            
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/js1bis.html" data-opened="js"></div>
        
        </block>
        
    </slide>

    <slide>
        <title>Structures de contrôle peu conventionnelles</title>
        
        <block title="try, catch, finally, throw">
            
            <div class="playground nohtml nocss noiframe console" data-href="./examples/js2.html" data-opened="js"></div>
        
        </block>
        
    </slide>

    <slide>
        <title>Structures de contrôle peu conventionnelles</title>
        
        <block title="break : sortir d'un <u>switch</u> ou d'une boucle">
            
            <div class="playground nohtml nocss noiframe console" data-href="./examples/js3switch.html" data-opened="js"></div>
        
        </block>
        
    </slide>

    <slide>
        <title>Structures de contrôle peu conventionnelles</title>
        
        <block title="break : sortir d'un switch ou d'une <u>boucle</u>">
            
            <div class="playground nohtml nocss noiframe console" data-href="./examples/js3boucle.html" data-opened="js"></div>
        
        </block>
        
    </slide>

    <slide>
        <title>Structures de contrôle peu conventionnelles</title>
        
        <block title="continue : passer directement à l'itération suivante d'une boucle">
            
            <div class="playground nohtml nocss noiframe console" data-href="./examples/js4.html" data-opened="js"></div>
        
        </block>
        
    </slide>
    

    <subsection>Objets standards de Javascript</subsection>

    <slide outline class="no-navigation section currentSection currentSubsection">
        <title>Plan du chapitre</title>
    </slide>

    <subsubsection>Les nombres</subsubsection>

    <slide>
        <title>Les nombres en Javascript</title>
        
        <block title="Quelques généralités pour commencer">
        <ul>
            <li>Javascript ne propose qu'un seul type nombre pour les valeurs numériques.</li>
            <li>Différentes écritures sont possibles : <code>42</code> (sans décimales), <code>4.2</code> (avec décimales), 
            <code>4.2e1</code> ou <code>0.42e-2</code> (exposant pour les grands nombres). </li>
            <li>Les nombres sont tous représentés par des virgules flottantes en 64 bits : 1 bit de signe (bit 63), 
            11 bits pour l'exposant (bits 62-52) et les 52 bits restants pour la mantisse. </li>
        </ul>
        </block>
        
        <block title="Sur la précision des nombres">
        <ul>
            <li>Jusqu'à 15 chiffres, les entiers sont précis. Au delà, il y a quelques arrondis. </li>    
            <li>Bad news, les calcul avec des nombres flottants en représentation IEEE-754, c'est pas top...<br>
            <code>0.1 + 0.2</code> &rarr; <code>0.30000000000000004</code> -- 
            solution : réécrire en <code>(0.1*10 + 0.2*10)/10</code></li>    
        </ul>
        </block>
        
        <p>Plus de détails : <url>https://www.w3schools.com/js/js_numbers.asp</url> ou le cours d'<i>architecture des ordinateurs</i> de L2</p>
    </slide>

    <slide>
        <title>Les nombres en Javascript</title>
        
        <block title="Additions entiers et chaînes">
            <p>Javascript utilise l'opérateur <code>+</code> pour l'addition et la concaténation.</p>
            <table class="centered">
                <tr><td>Expression</td><td></td><td>Résultat</td></tr>
            <tr><td><code>10 + 20</code></td><td>&rarr;</td><td><code>30</code></td></tr>
            <tr><td><code>"10" + "20"</code></td><td>&rarr;</td><td><code>"1020"</code></td></tr>
            <tr><td><code>10 + "20"</code></td><td>&rarr;</td><td><code>"1020"</code></td></tr>
            <tr><td><code>"10" + 20</code></td><td>&rarr;</td><td><code>"1020"</code></td></tr>
            <tr><td><code>"Le résultat est " + 10 + 20</code></td><td>&rarr;</td><td><code>"Le résultat est 1020"</code></td></tr>
            <tr><td><code>10 + 20 + "30"</code></td><td>&rarr;</td><td><code>"3030"</code></td></tr>
            </table>
            <p>Javascript fonctionne de gauche à droite.</p>
        </block>
    </slide>
            

    <slide>
        <title>Les nombres en Javascript</title>
        <row>
            <block title="Autres opérations">
                <p>Pour les autres opérations de calcul, les chaînes sont converties en nombre...quand c'est possible.</p>
                <table class="centered">
                    <tr><td>Expression</td><td></td><td>Résultat</td></tr>
                <tr><td><code>"100" / "10"</code></td><td>&rarr;</td><td><code>10</code></td></tr>
                <tr><td><code>"100" * "10"</code></td><td>&rarr;</td><td><code>1000</code></td></tr>
                <tr><td><code>"100" - "10"</code></td><td>&rarr;</td><td><code>90</code></td></tr>
                <tr><td><code>100 / "babar"</code></td><td>&rarr;</td><td><code>NaN</code></td></tr>
                </table>
            </block>
            <block title="NaN - Not a Number">
                <p>La valeur <code>NaN</code> peut rapidement apparaître et se propager dans les calculs.</p>
                <table class="centered">
                    <tr><td>Expression</td><td></td><td>Résultat</td></tr>
                <tr><td><code>5 + NaN</code></td><td>&rarr;</td><td><code>NaN</code></td></tr>
                <tr><td><code>NaN + "5"</code></td><td>&rarr;</td><td><code>"NaN5"</code></td></tr>
                <tr><td><code>typeof NaN</code></td><td>&rarr;</td><td><code>"number"</code></td></tr>
                </table>
                <p>Il n'y a pas d'erreur de division par 0...mais est-ce un bien ?</p>
            </block>
        </row>
        
        <p>Toutes les subtilités de la coercion de type en Javascript : <br><url>https://dev.to/promhize/what-you-need-to-know-about-javascripts-implicit-coercion-e23</url></p>
    </slide>


    <slide>
        <title>Les nombres en Javascript</title>
        <row>
            <block title="Infinity">
                <p>La valeur <code>Infinity</code> (ou <code>-Infinity</code>) désigne un nombre trop
                grand pour être représenté. </p>
                <table class="centered">
                    <tr><td>Expression</td><td></td><td>Résultat</td></tr>
                    <tr><td><code>2 / 0</code></td><td>&rarr;</td><td><code>Infinity</code></td></tr>
                    <tr><td><code>-2 / 0</code></td><td>&rarr;</td><td><code>-Infinity</code></td></tr>
                    <tr><td><code>typeof Infinity</code></td><td>&rarr;</td><td><code>"number"</code></td></tr>
                </table>
            </block>
            <block title="Bases différentes">
                <p>Par défaut, les nombres sont en décimal. Il est possible de les écrire en 
                    hexadécimal en les préfixant par <code>0x</code> (ex. <code>0x2A</code>). </p>
                    
                <p>On peut utiliser la méthode <code>toString(<i>base</i>)</code> pour afficher 
                    le nombre dans la <i>base</i> souhaitée. </p>
                <table class="centered">
                    <tr><td>Expression</td><td></td><td>Résultat</td></tr>
                <tr><td><code>var x = 42;</code></td><td></td><td></td></tr>
                <tr><td><code>x.toString(16)</code></td><td>&rarr;</td><td><code>"2a"</code></td></tr>
                <tr><td><code>x.toString(8)</code></td><td>&rarr;</td><td><code>"52"</code></td></tr>
                <tr><td><code>x.toString(2)</code></td><td>&rarr;</td><td><code>"101010"</code></td></tr>
                </table>
            </block>
        </row>
    </slide>

    <slide>
        <title>La classe Number</title>
        
        <block title="La classe <code>Number</code>">
            <p>Les nombres peuvent aussi se représenter comme des objets.</p>
            <p><code>var l = 42;</code> (littéral -- <code>typeof l</code> &rarr; <code>"number"</code>)<br>
               <code>var o = new Number(42)</code> (objet -- <code>typeof o</code> &rarr; <code>"object"</code>)</p>
        </block>
        
        <block title="Comparaison de nombres sous toutes leurs formes">
            <table class="centered">
                <tr><td>Expression</td><td></td><td>Résultat</td></tr>
                <tr><td><code>42 == new Number(42)</code></td><td>&rarr;</td><td><code>true</code></td></tr>
                <tr><td><code>42 === new Number(42)</code></td><td>&rarr;</td><td><code>false</code></td></tr>
                <tr><td><code>new Number(42) == new Number(42)</code></td><td>&rarr;</td><td><code>false</code></td></tr>
                <tr><td><code>new Number(42) === new Number(42)</code></td><td>&rarr;</td><td><code>false</code></td></tr>
                <tr><td><code>Number(42) === Number(42)</code></td><td>&rarr;</td><td><code>true</code></td></tr>
            </table>
        </block>
        
        <p style="margin-top: 2vh;">Il est fortement déconseillé de créer des objets <code>Number</code> (temps de calcul, coût mémoire).</p>
    </slide>

    <slide>
        <title>La classe Number</title>
        
        <block title="Propriétés de la classe <code>Number</code>">
            <table class="">
                <tr><td style="width: 33%;">Propriété</td><td>Description</td></tr>
                <tr><td><code>MAX_VALUE</code></td><td>Valeur maximale possible (<code>1.7976931348623157e+308</code>)</td></tr>
                <tr><td><code>MIN_VALUE</code></td><td>Valeur minimale possible (<code>5e-324</code>)</td></tr>
                <tr><td><code>POSITIVE_INFINITY</code></td><td>Infini positif (<code>Infinity</code>)</td></tr>
                <tr><td><code>NEGATIVE_INFINITY</code></td><td>Infini négatif (<code>-Infinity</code>)</td></tr>
                <tr><td><code>NaN</code></td><td>Valeur Not-a-Number</td></tr>
            </table>
        </block>
    </slide>

    <slide>
        <title>La classe Number</title>
        
        <block title="Méthodes de la classe <code>Number</code>">
            <p>Méthodes statiques (pas besoin de créer d'objet pour les invoquer) :</p>
            <table class="" style="font-size: 90%;">
                <tr><td style="width: 20%;">Méthode</td><td style="width: 30%;">Description</td><td colspan=2>Exemple</td></tr>
                <tr><td rowspan=2><code>isFinite(n)</code></td><td rowspan="2">Vérifie si <code>n</code> est un nombre fini</td><td><code>Number.isFinite(42)</code></td><td><code>&rarr; true</code></td></tr>
                <tr><td><code>Number.isFinite(Infinity)</code></td><td><code>&rarr; false</code></td></tr>
                <tr><td rowspan=2><code>isInteger(n)</code></td><td rowspan="2">Vérifie si <code>n</code> est un nombre entier</td><td><code>Number.isInteger(42)</code></td><td><code>&rarr; true</code></td></tr>
                <tr><td><code>Number.isFinite(4.2)</code></td><td><code>&rarr; false</code></td></tr>
                <tr><td rowspan=2><code>isNaN(n)</code></td><td rowspan="2">Vérifie si <code>n</code> n'est pas un nombre</td><td><code>Number.isNaN(42)</code></td><td><code>&rarr; false</code></td></tr>
                <tr><td><code>Number.isNaN(42/"babar")</code></td><td><code>&rarr; true</code></td></tr>
                <tr><td rowspan=4><code>isSafeInteger(n)</code></td><td rowspan="4">Vérifie si <code>n</code> est un entier qui peut être représenté par un réel double précision selon IEEE 754</td><td><code>Number.isSafeInteger(42)</code></td><td><code>&rarr; true</code></td></tr>
                <tr><td><code>Number.isSafeInteger(Math.pow(2,53)-1)</code></td><td><code>&rarr; true</code></td></tr>
                <tr><td><code>Number.isSafeInteger(Math.pow(2,53))</code></td><td><code>&rarr; false</code></td></tr>
                <tr><td><code>Number.isSafeInteger("42")</code></td><td><code>&rarr; false</code></td></tr>
            </table>
        </block>
    </slide>

    <slide>
        <title>La classe Number</title>
        
        <block title="Méthodes de la classe <code>Number</code> (suite)">
            <p>Méthodes d'instance (qui s'invoquent sur un nombre variable ou objet) :</p>
            <table class="" style="font-size: 90%;">
                <tr><td style="width: 20%;">Méthode</td><td>Description</td><td>Exemple</td></tr>
                <tr><td><code>toExponential(x)</code></td><td>retourne le nombre en notation exponentielle <br><code>x</code> (optionnel) donne le nombre de digits (0 à 20)</td><td><code>var n = 42;<br>n.toExponential();  &rarr; "4.2e1"</code></td></tr>
                <tr><td><code>toFixed(x)</code></td><td>retourne le nombre avec <code>x</code> décimales</td><td><code>var n = 0.49;<br>n.toFixed(1);  &rarr; "0.5"</code></td></tr>
                <tr><td><code>toPrecision(x)</code></td><td>retourne le nombre écrit avec <code>x</code> digits</td><td><code>var n = 0.49;<br>n.toPrecision(3);  &rarr; "0.490"</code></td></tr>
                
            </table>
        </block>
    </slide>

    <slide>
        <title>La classe Math</title>
        
        <block title="Constantes proposées">
        <p>La principale propriété est la constante <code>Math.PI</code>. La classe <code>Math</code> propose également (entre autres) le nombre d'Euler (<code>Math.E</code>), les logarithmes néperiens de 2 (<code>Math.LN2</code>), la racine de 2 (<code>Math.SQRT2</code>) etc.</p>
        </block>
        
        <block title="Méthodes statiques proposées">
            <ul>
                <li>fonctions classiques : valeur absolue (<code>Math.abs(x)</code>), exponentielle (<code>Math.exp(x)</code>), logarithme 
                (<code>Math.log(x)</code>), puissance (<code>Math.pow(x,y)</code>), et racine carrée (<code>Math.sqrt(x)</code>)</li>
                <li>fonctions trigonométriques (avec angles en radians) : cosinus (<code>Math.cos(x)</code>), sinus (<code>Math.sin(x)</code>), 
                tangeante (<code>Math.tan(x)</code>), etc. </li>
                <li>fonctions d'arrondis : à l'entier inférieur (<code>Math.floor(x)</code>), à l'entier supérieur (<code>Math.ceil(x)</code>), 
                à l'entier le plus proche (<code>Math.round(x)</code>)</li>
                <li>fonctions utilitaires : minimum d'une liste de valeurs (<code>Math.min(a,b,...)</code>), maxium (<code>Math.max(a,b,...)</code>)
                génération aléatoire (<code>Math.random()</code> qui renvoie un réel entre 0 inclus et 1 exclu)</li>
            </ul>
        </block>
        
        <p>Plus de détails sur l'objet Math : <url>https://www.w3schools.com/jsref/jsref_obj_math.asp</url></p>
    </slide>


    <subsubsection>Les chaînes de caractères</subsubsection>

    <slide>
        <title>Les chaînes de caractères</title>
        
        <block title="Propriété">
        <p>Les chaînes de caractères sont une suite de caractères délimités par des guillemets simples (ex. <code>'Fred'</code>) ou 
            doubles (ex. <code>"Fred"</code>). Contrairement à PHP le choix de l'un ou l'autre des délimiteurs ne fait pas de 
            différence. </p>
        <p>La longueur d'une chaîne est donnée par la propriété <code>length</code> (sans les parenthèses !) - 
            Exemple : <code>"Fred".length</code> &rarr; <code>4</code></p>
        <p>Classiquement, les indices des chaînes commencent à <code>0</code>.</p>
        </block>
        
        <block title="Quelques méthodes">
            <p>Les méthodes les plus utilisées sont similaires à celles proposées par Java.</p>
            <table class="" style="font-size: 90%;">
                <tr>
                    <td>Méthode</td><td>Description</td><td>Exemple</td>
                </tr>
                <tr>
                    <td><code>charAt(i)</code></td><td>Renvoie le caractère à l'indice <code>i</code></td><td><code>"Fred".charAt(1) &rarr; "r"</code></td>
                </tr>
                <tr>
                    <td><code>indexOf(c)</code></td><td>Renvoie l'indice de la première occurrence de <code>c</code></td><td><code>"Frederic".indexOf("r") &rarr; 1</code></td>
                </tr>
                <tr>
                    <td><code>lastIndexOf(c)</code></td><td>Renvoie l'indice de la dernière occurrence de <code>c</code></td><td><code>"Frederic".lastIndexOf("r") &rarr; 5</code></td>
                </tr>
                <tr>
                    <td><code>startsWith(c)</code></td><td>Teste si la chaîne commence par <code>c</code></td><td><code>"Fred".startsWith("Fr") &rarr; true</code></td>
                </tr>
                <tr>
                    <td><code>endsWith(c)</code></td><td>Teste si la chaîne termine par <code>c</code></td><td><code>"Fred".endsWith("d ") &rarr; false</code></td>
                </tr>
                <tr>
                    <td><code>includes(s,i)</code></td><td>Teste si la sous-chaîne <code>s</code> est présente depuis l'indice <code>i</code></td><td><code>"Frederic".includes("er") &rarr; true</code></td>
                </tr>
            </table>
        </block>
        
    </slide>
    
    <slide>
        <title>Les chaînes de caractères</title>

        <block title="Quelques méthodes (suite)">
            <table class="" style="font-size: 90%;">
                <tr>
                    <td>Méthode</td><td>Description</td><td>Exemple</td>
                </tr>
                <tr>
                    <td><code>substring(i1,i2)</code></td><td>Extrait la sous-chaîne entre <code>i1</code> (inclus)<br> et <code>i2</code> (exclus)</td><td><code>"Frederic".substring(2,4) &rarr; "ed"</code></td>
                </tr>
                <tr>
                    <td><code>substr(i,l)</code></td><td>Extrait la sous-chaîne de longueur <code>l</code><br>commençant à <code>i</code></td><td><code>"Frederic".substr(2,4) &rarr; "eder"</code></td>
                </tr>
                <tr>
                    <td><code>trim()</code></td><td>Enlève les espaces au début et en fin de chaîne</td><td><code>"  Fred  ".trim() &rarr; "Fred"</code></td>
                </tr>
                <tr>
                    <td><code>concat(s)</code></td><td>Concatène à la chaîne <code>s</code></td><td><code>"Fred".concat("eric") &rarr; "Frederic"</code></td>
                </tr>
                <tr>
                    <td><code>repeat(n)</code></td><td>Répète la chaîne <code>n</code> fois</td><td><code>"Fred".repeat(2) &rarr; "FredFred"</code></td>
                </tr>
                <tr>
                    <td><code>toUpperCase()</code></td><td>Mise en majuscule des lettres</td><td><code>"Fred!".toUpperCase() &rarr; "FRED!"</code></td>
                </tr>
                <tr>
                    <td><code>toLowerCase()</code></td><td>Mise en minuscule des lettres</td><td><code>"Fred!".toLowerCase() &rarr; "fred!"</code></td>
                </tr>
                <tr>
                    <td><code>split(d)</code></td><td>Découpage d'une chaîne par rapport<br>au délimiteur <code>d</code></td><td><code>"Frederic".split("e") &rarr; ["Fr","d","ric"]</code><br><code>"Fred".split("") &rarr; ["F","r","e","d"]</code></td>
                </tr>
            </table>
        </block>
        
        <p>Toutes les méthodes retournent une nouvelle chaîne. </p>
        
    </slide>
    
    <slide>
        <title>Les gabarits de chaîne</title>
        
        <p>Introduits par ES2015, cette construction (également appelée <i>littéraux de gabarits</i>) permet d'intégrer
        à une chaîne de caractères des expressions. </p>
        
        <block title="Syntaxe">
            <p>Les littéraux de gabarits sont délimités par des <code>`</code> (accent grave) au lieu des habituels guillemets
            simples ou doubles. </p>
            
            <p>Il est possible de faire apparaître des expressions délimitées par <code>${...}</code> au sein de la chaîne et qui 
                seront évaluées et substituées pour construire la chaîne. Par ailleurs, il est possible de déclarer des chaînes
                multi-lignes. 
            </p>
        </block>
        
        <block title="Expression et chaîne multi-lignes">
            <div class="playground nohtml nocss noiframe console h20" data-href="./examples/jsStringTemplate1.html" data-opened="js"></div>
        </block>
        
        <p>Cette utilisation est la plus courante des littéraux de gabarit, mais nous reviendrons plus tard sur 
            d'autres types. </p>
        
    </slide>

    <slide>
        <title>Les expressions régulières</title>

        <div style="margin-right: 50vh;">
        <img src="./images/regex.jpg" style="position: absolute; right: 5vh; width: 40vh; border: solid 1px #000;">

        <block title="Expressions régulières en Javascript">
            <p>Certaines fonctions sur les chaînes fonctionnent avec des expressions régulières. Celles-ci permettent 
        de décrire des ensembles de chaînes de caractères, reconnues (<i>matchées</i>) par ces expressions régulières.</p>
            <p>Une expression régulière est composée de deux éléments : un pattern et un modifie(u)r sous le format :<br>
                <code>var patt = /pattern/modifier</code>
            </p>
        </block>

        <block title="Les modifieurs">
            <p>On dénote 3 modifieurs :</p>
            <table>
                <tr>
                    <td>Modifieur</td><td>Description</td>
                </tr>    
                <tr>
                    <td><code>i</code></td><td>Réalise un pattern-matching insensible à la casse.</td>
                </tr>    
                <tr>
                    <td><code>g</code></td><td>Réalise un pattern-matching global, qui ne s'arrête pas à la première sous-chaîne reconnue.</td>
                </tr>    
                <tr>
                    <td><code>m</code></td><td>Réalise un pattern-matching multi-lignes, qui prend en compte les retours à la ligne.</td>
                </tr>    
            </table>
        </block>
    
        </div>
    </slide>
    

    <slide>
        <title>Les expressions régulières</title>
        
        <block title="L'expression du pattern - échelle de valeurs">
            <p>La notation avec <code>[ ]</code> ou <code>( | )</code> permet de liste des caractères/chaînes/sous-chaîne autorisées. </p>
            <table>
                <tr>
                    <td>Notation</td><td>Description</td>
                </tr>    
                <tr>
                    <td><code>[abc]</code></td><td>Trouve un des caractères entre les crochets.</td>
                </tr>    
                <tr>
                    <td><code>[^abc]</code></td><td>Trouve un des caractères qui n'est pas entre les crochets.</td>
                </tr>    
                <tr>
                    <td><code>[a-zA-Z]</code></td><td>Trouve un des caractères dans les intervalles entre crochets.</td>
                </tr>    
                <tr>
                    <td><code>[^a-zA-Z]</code></td><td>Trouve un des caractères qui n'est pas dans les intervalles entre crochets.</td>
                </tr>    
                <tr>
                    <td><code>(a|b|c)</code></td><td>Trouve un des caractères séparés par des <code>|</code>.</td>
                </tr>    
            </table>
        </block>
    </slide>

    <slide>
        <title>Les expressions régulières</title>
        
        <block title="L'expression du pattern - les quantificateurs">
            <p>Une partie de schéma peut-être répétée en utilisant des quantificateurs. </p>
            <table>
                <tr>
                    <td>Notation</td><td>Description</td>
                </tr>    
                <tr>
                    <td><code>n+</code></td><td>Reconnaît une chaîne contenant au moins une occurrence de <code>n</code>.</td>
                </tr>    
                <tr>
                    <td><code>n*</code></td><td>Reconnaît une chaîne contenant 0 ou plusieurs occurrences de <code>n</code>.</td>
                </tr>    
                <tr>
                    <td><code>n?</code></td><td>Reconnaît une chaîne contenant 0 ou une occurrence de <code>n</code>.</td>
                </tr>    
                <tr>
                    <td><code>n{X,Y}</code></td><td>Reconnaît une chaîne contenant entre <code>X</code> et <code>Y</code> répétitions de <code>n</code>.</td>
                </tr>    
                <tr>
                    <td><code>n{X}</code></td><td>Reconnaît une chaîne contenant <code>X</code> répétitions de <code>n</code>.</td>
                </tr>    
                <tr>
                    <td><code>n{X,}</code></td><td>Reconnaît une chaîne contenant au moins <code>X</code> répétitions de <code>n</code>.</td>
                </tr>    
                <tr>
                    <td><code>^n</code></td><td>Reconnaît une chaîne qui commence par <code>n</code>.</td>
                </tr>    
                <tr>
                    <td><code>n$</code></td><td>Reconnaît une chaîne qui termine par <code>n</code>.</td>
                </tr>    
            </table>
        </block>
    </slide>

    <slide>
        <title>Les expressions régulières</title>
        
        <block title="L'expression du pattern - les meta-caractères">
            <p>Plutôt que d'énumerer les caractères autorisés/interdits individuellement, on peut utiliser des <i>meta-caractères</i>. </p>
            <row>
            <table>
                <tr>
                    <td>Notation</td><td>Description</td>
                </tr>    
                <tr>
                    <td><code>.</code></td><td>N'importe quel caractère (excepté les retours à la ligne).</td>
                </tr>    
                <tr>
                    <td><code>\w</code> / <code>\W</code></td><td>N'importe quel caractère d'un mot/qui n'est pas d'un mot.</td>
                </tr>    
                <tr>
                    <td><code>\d</code> / <code>\D</code></td><td>N'importe quel chiffre/caractère qui n'est pas un chiffre.</td>
                </tr>    
                <tr>
                    <td><code>\s</code> / <code>\S</code></td><td>N'importe quel caractère d'espacement/qui n'est pas un espacement.</td>
                </tr>    
                <tr>
                    <td><code>\b</code> / <code>\B</code></td><td>Reconnaît une sous-chaîne qui est/n'est pas au début ou à la fin d'un mot.</td>
                </tr>    
                <tr>
                    <td><code>\0</code></td><td>Le caractère NUL.</td>
                </tr>    
                <tr>
                    <td><code>\n</code></td><td>Le caractère de retour à la ligne.</td>
                </tr>    
                <tr>
                    <td><code>\t</code></td><td>Le caractère de tabulation.</td>
                </tr>    
                <tr>
                    <td><code>\r</code></td><td>Le caractère de retour chariot.</td>
                </tr>    
                <tr>
                    <td colspan="3">...</td>
                </tr>    
            </table>
            </row>
        </block>
    </slide>

    <slide>
        <title>Les expressions régulières</title>

        <block title="Quelques exemples d'expressions régulières à connaître">
            <table style="font-size: 90%;">
            <tr>
                <td>Description</td>    
                <td>Expression régulière</td>
            </tr>
            <tr>
                <td>Nom d'utilisateur</td>
                <td><code>/^[a-z0-9_-]{3,16}$/i</code></td>    
            </tr>
            <tr>
                <td>Mot de passe</td>
                <td><code>/^[a-z0-9_-]{6,18}$/i</code></td>
            </tr>
            <tr>
                <td>Valeur hexadécimale</td>
                <td><code>/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i</code></td>
            </tr>
            <tr>
                <td>Adresse email</td>
                <td><code>/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/i</code></td>
            </tr>
            <tr>
                <td>URL</td>
                <td><code>/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/i</code></td>
            </tr>
            <tr>
                <td>Adresse IP</td>
                <td><code>/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i</code></td>
            </tr>        
            </table>
        </block>
        
        <block title="A vous de jouer">
            <div class="playground nocode h20" data-href="./examples/jsRegExp1.html" data-opened="js"></div>
        </block>
        
                
    </slide>
    
    <slide>
        <title>Retour aux chaînes de caractères</title>

        <block title="Méthodes utilisant les expressions régulières">
            
            <table>
                <tr>
                    <td>Méthode</td><td>Description</td>
                </tr>
                <tr>
                    <td rowspan="1"><code>search(regexp)</code></td>
                    <td rowspan="1">Renvoie l'indice de la première occurrence de <code>regexp</code>.</td>
                </tr>
                <tr>
                    <td rowspan="1"><code>match(regexp)</code></td>
                    <td rowspan="1">Renvoie un tableau des sous-chaînes reconnues par l'expression régulière, <code>null</code> si aucune n'est reconnue.</td>
                </tr>
                <tr>
                    <td rowspan="1"><code>replace(regexp,str)</code></td>
                    <td rowspan="1">Replace les occurrences de <code>regexp</code> par la chaîne <code>str</code>.</td>
                </tr>
            </table>
            
        </block>
  
          <block title="A vous de jouer">
            <div class="playground nocode h20" data-href="./examples/jsRegExp2.html" data-opened="js"></div>
        </block>
    </slide>
    
    <subsubsection>Les dates</subsubsection>
    
    <slide>
        <title>Le type Date</title>
        <p>Contrairement aux nombres et aux chaînes, les dates sont nécessairement encapsulées dans un objet Date.</p>
        
        <p>Une date est représentée par un jour, un mois, une année, une heure, des minutes, des secondes et des millisecondes. 
        </p>

        <block title="Construire une date">
            <table>
                <tr>
                    <td>Constructeur</td><td>Description</td>
                </tr>
                <tr>
                    <td><code>new Date()</code></td><td>Construit la date courante. </td>
                </tr>
                <tr>
                    <td><code>new Date(<i>millisecondes</i>)</code></td><td>Construit une date correspondant au nombre de millisecondes écoulées depuis le 1er janvier 1970 à minuit (temps zéro). </td>
                </tr>
                <tr>
                    <td><code>new Date(<i>chaine</i>)</code></td>
                    <td>Construit une date correspondant à la <code><i>chaîne</i></code></td>
                </tr>
                <tr>
                    <td><code>new Date(<i>année</i>, <i>mois</i>, <i>jour</i>, <i>heure</i>, <i>min</i>, <i>sec</i>, <i>millisec</i>)</code></td>
                    <td>Construit une date correspondant à <code><i>jour/mois+1/année heure:min:sec</i></code> (le mois de janvier vaut 0). </td>
                </tr>
            </table>
            <p>Pour plus de détails sur les formats de chaînes de caractères associés aux dates : <br>
            <url>https://www.w3schools.com/js/js_date_formats.asp</url></p>
        </block>
        
    </slide>

  <slide>
        <title>Le type Date</title>

        <block title="Méthodes utiles">
            <table>
                <tr>
                    <td>Méthode</td><td>Description</td>
                </tr>
                <tr>
                    <td><code>getDate()</code>/<code>setDate(d)</code></td><td>Retourne/spécifie le jour du mois (<code>1-31</code>). </td>
                </tr>
                <tr>
                    <td><code>getDay()</code>/<code>setDay(d)</code></td><td>Retourne/spécifie le jour de la semaine (<code>0-6</code>). </td>
                </tr>
                <tr>
                    <td><code>getFullYear()</code>/<code>setFullYear(d)</code></td><td>Retourne/spécifie l'année. </td>
                </tr>
                <tr>
                    <td><code>getHours()</code>/<code>setHours(d)</code></td><td>Retourne/spécifie l'heure (<code>0-23</code>). </td>
                </tr>
                <tr>
                    <td><code>getMilliseconds()</code>/<code>setMilliseconds(d)</code></td><td>Retourne/spécifie les millisecondes. </td>
                </tr>
                <tr>
                    <td><code>getMinutes()</code>/<code>setMinutes(d)</code></td><td>Retourne/spécifie les minutes (<code>0-59</code>). </td>
                </tr>
                <tr>
                    <td><code>getMonth()</code>/<code>setMonth(d)</code></td><td>Retourne/spécifie le mois (<code>0-11</code>). </td>
                </tr>
                <tr>
                    <td><code>getSeconds()</code>/<code>setSeconds(d)</code></td><td>Retourne/spécifie les secondes (<code>0-59</code>). </td>
                </tr>
                <tr>
                    <td><code>getTime()</code>/<code>setTime(d)</code></td><td>Retourne/spécifie le nombre de secondes depuis "temps zéro". </td>
                </tr>
            </table>
            <p>Une variante de ces méthodes existe avec <code>UTC</code> (ex. <code>getUTCTime()</code>) pour spécifier la date par rapport à UTC. 
            Par défaut les dates manipulées correspondent à la locale du poste client. </p>
        </block>
        
    </slide>

    <slide>
        <title>Le type Date</title>

        <block title="Méthodes complémentaires">
            <table>
                <tr>
                    <td>Méthode</td><td>Description</td>
                </tr>
                <tr>
                    <td><code>now()</code></td><td>Retourne le nombre de secondes depuis le temps zéro (méthode statique)
                    <br>Usage : <code>Date.now()</code></td>
                </tr>
                <tr>
                    <td><code>parse(chaine)</code></td><td>Extrait une date de la chaîne de caractères<br>
                    (ex. <code>Date.parse("January, 8th 2017")</code>). </td>
                </tr>
                <tr>
                    <td><code>getTimezoneOffset()</code></td><td>Retourne la différence de temps entre le temps local et UTC, en minutes.<br>(ex. pour la France : <code>60</code>). </td>
                </tr>
                <tr>
                    <td><code>toLocaleDateString()</code></td><td>Retourne la partie date d'un objet Date en fonction de la zone.<br>(ex. pour la France : <code>"2017-12-1"</code>). </td>
                </tr>
                <tr>
                    <td><code>toLocaleTimeString()</code></td><td>Retourne la partie horaire d'un objet Date en fonction de la zone.<br>(ex. pour la France : <code>"15:48:32"</code>). </td>
                </tr>
                <tr>
                    <td><code>toString()</code></td><td>Retourne une chaîne représentant la date courante<br>(ex. <code>"Fri Dec 01 2017 15:41:50 GMT+0100 (CET)"</code>). </td>
                </tr>
                <tr>
                    <td><code>toISOString()</code></td><td>Retourne une chaine représentant la date courante au format ISO-8601<br>
                    (ex. <code>"2017-12-01T14:44:14.195Z"</code>)</td>
                </tr>
            </table>
        </block>
        
    </slide>

    <subsubsection>Fonctions et propriétés globales</subsubsection>

    <slide>
        <title>Fonctions et propriétés globales</title>
        
        <p>Javascript propose quelques fonctions et propriétés globales qui n'appartiennent officiellement pas à un objet
        spécifique (en réalité, si : ce sont des propriétés et des méthodes proposées par un objet global qui appartient
        à l'environnement dans lequel s'exécute le moteur -- par ex. l'objet <code>window</code> du navigateur). </p>
        
        <block title="Quelques constantes déjà vues précédemment">
            <table>
                <tr>
                    <td>Constante</td><td>Description</td>
                </tr>
                <tr>
                    <td><code>Infinity</code></td><td>Valeur numérique représentant l'infini (positif/négatif)</td>
                </tr>
                <tr>
                    <td><code>NaN</code></td><td>Valeur "Not-a-Number"</td>
                </tr>
                <tr>
                    <td><code>undefined</code></td><td>Indique qu'une variable n'a pas été assignée. </td>
                </tr>
            </table>
        </block>
        
        
    </slide>

    <slide>
        <title>Fonctions et propriétés globales</title>
        
        <block title="Quelques fonctions globales">
            <table>
                <tr>
                    <td>Fonction</td><td>Description</td><td>Exemple</td>
                </tr>
                <tr>
                    <td><code>String(x)</code></td><td>Calcule la valeur de <code>x</code> comme chaîne.</td><td><code>String([]) &rarr; ""</code></td>
                </tr>
                <tr>
                    <td><code>Number(x)</code></td><td>Calcule la valeur numérique de <code>x</code>.</td><td><code>Number([]) &rarr; 0</code></td>
                </tr>
                <tr>
                    <td><code>Boolean(x)</code></td><td>Calcule la valeur booléenne de <code>x</code>.</td><td><code>Boolean([]) &rarr; true</code></td>
                </tr>
                <tr>
                    <td><code>isNaN(x)</code></td><td>Teste si <code>x</code> n'est pas un nombre.</td><td><code>isNaN(2/"babar") &rarr; true</code></td>
                </tr>
                <tr>
                    <td><code>isFinite(x)</code></td><td>Teste si <code>x</code> est un nombre fini.</td><td><code>isFinite(Infinity) &rarr; false</code></td>
                </tr>
                <tr>
                    <td rowspan="2"><code>parseInt(x)</code></td><td rowspan="2">Extrait un entier de la chaîne <code>x</code>.</td><td><code>parseInt("42 is ze best") &rarr; 42</code></td>
                </tr>
                <tr><td><code>parseInt("j'aime 42") &rarr; NaN</code></td></tr>
                <tr>
                    <td><code>parseFloat(x)</code></td><td>Extrait un réel flottant de la chaîne <code>x</code>.</td><td><code>parseFloat("42.5 isn't ze best") &rarr; 42.5</code></td>
                </tr>
            </table>
        </block>

    </slide>
    
    <slide>
        <title>Fonctions et propriétés globales</title>
        
        <block title="Quelques fonctions globales">
            <table>
                <tr>
                    <td>Fonction</td><td>Description</td>
                </tr>
                <tr>
                    <td><code>encodeURI(x)</code></td><td>Encode l'url <code>x</code> en remplaçant les caractères spéciaux (sauf <code>, / ? : @ &amp;  = + $ #</code>).</td>
                </tr>
                <tr>
                    <td><code>encodeURIComponent(x)</code></td><td>Encode l'url <code>x</code> en remplaçant les caractères spéciaux (y compris <code>, / ? : @ &amp;  = + $ #</code>).</td>
                </tr>
                <tr>
                    <td><code>decodeURI(x)</code></td><td>Decode l'url <code>x</code>.</td>
                </tr>
                <tr>
                    <td><code>decodeURIComponent(x)</code></td><td>Decode l'url <code>x</code>.</td>
                </tr>
                <tr>
                    <td><code>eval(code)</code></td><td>Evalue le code Javascript représenté par la chaîne <code>code</code>.</td>
                </tr>
            </table>
        </block>

    </slide>


    <section>Les fonctions</section>
      
    <slide outline class="no-navigation  section currentSection">
        <title>Plan du chapitre</title>
    </slide>
    
    
    <subsection>Généralités</subsection>

    <slide>
        <title>Les fonctions</title>
        
        <block title="C'est quoi ?">
            <p>Les fonctions :</p>
            <ul>
                <li>permettent de factoriser du code, en vue de faciliter l'écriture et la maintenance du code,</li>
                <li>peuvent admettre des paramètres</li>
                <li>peuvent renvoyer une valeur</li>
            </ul>
        </block>
        
        <block title="Les fonctions en Javascript">
            <p>En Javascript, le typage est dynamique, de ce fait, quand on déclare une fonction :</p>
            <ul>
                <li>on ne lui déclare pas de type de retour</li>
                <li>les paramètres ne sont pas typés, il n'y a pas de vérification de type sur les paramètres</li>
            </ul>
            <p>Et en plus, on peut appeler la fonction sans renseigner tous ses paramètres.</p>
        </block>
        
    </slide>


    <slide>
        <title>Un premier exemple de fonction</title>
        
        <block title="Syntaxe d'une déclaration de fonction">
            <code>function <i>nomFonction</i>(<i>argument1</i>,<i>argument2</i>,...) {<br>
                &nbsp;&nbsp;&nbsp;... // code de la fonction<br>
            }</code>
        </block>

        <block title="Un premier exemple de fonction">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions1.html" data-opened="js"></div>
        </block>
        
    </slide>  

    <subsection>Les paramètres</subsection>

    <slide>
        <title>Les paramètres de fonctions</title>

        <block title="Paramètres et appels de fonction">
            <p>Si un appel de fonction ne présente pas assez de paramètres par rapport à la signature 
            déclarée, les valeurs manquantes sont <code>undefined</code>. </p>
            <p>Si un appel de fonction propose trop de valeurs de paramètres, les valeurs en trop 
            sont ignorées. </p>

        </block>

        <block title="Un premier exemple de fonction">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions1bis.html" data-opened="js"></div>
        </block>
        
    </slide>  

    <slide>
        <title>Les paramètres de fonctions</title>

        <block title="Retour de fonction">
            <p>Classiquement, la valeur retournée par la fonction est renvoyée par <code>return</code>. </p>
            
            <p>Si la fonction ne renvoie aucune valeur, alors sa valeur de retour est <code>undefined</code>. </p>
        </block>
        
        <block title="Un premier exemple de fonction">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions3.html" data-opened="js"></div>
        </block>

    </slide>
    

    <slide>
        <title>Les paramètres</title>
        
        <block title="L'objet arguments">
            <p>Chaque fonction présente un objet <code>arguments</code> qui est un tableau 
            permettant d'accéder aux arguments de la fonction appelée et permet de connaître leur nombre, 
            valeurs, etc. </p>
        </block>
        
        <block title="Utilisation des arguments et valeur de retour">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions4.html" data-opened="js"></div>
        </block>

    </slide>
    
    
    <slide>
        <title>Les paramètres</title>
        
        <block title="Nombre d'arguments quelconque">
            <p>Il est possible d'utiliser la notation <code>...</code> pour désigner un nombre d'arguments quelconque. Cette notation 
                (appelée <i>Rest</i>) ne s'applique, si nécessaire, qu'au dernier paramètre. Les arguments sont ensuite accédés comme un tableau. </p>
        </block>
        
        <block title="Utilisation des arguments et valeur de retour">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions4bis.html" data-opened="js"></div>
        </block>

    </slide>
    
    
    <slide>
        <title>Les paramètres</title>
        
        <block title="Passage d'un tableau comme liste de paramètres">
            <p>A l'inverse, il est également possible d'utiliser la notation <code>...</code> (appelée cette fois-ci <i>Spread</i>) sur un tableau lors d'un 
                appel de fonction. Les valeurs du tableau seront alors utilisées comme les différents arguments de la 
                fonction. </p>
        </block>
        
        <block title="Utilisation des arguments et valeur de retour">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions4ter.html" data-opened="js"></div>
        </block>

    </slide>
    
    
    

    <slide>
        <title>Les paramètres</title>
        <block title="Passage des arguments par valeurs">
            <p>Les arguments sont passés par valeur. La fonction n'a accès qu'aux valeurs, pas à l'emplacement mémoire des arguments. 
            De ce fait, si la valeur d'un argument est changée par la fonction, cela n'affecte pas la variable initiale. </p>
        </block>        
        <block title="Passage par valeur">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions5.html" data-opened="js"></div>
        </block>        
    </slide>

    <slide>
        <title>Les paramètres</title>
        <block title="Passage des objets par référence">
            <p>Les références sont les valeurs des objets. Si la fonction modifie la valeur 
                d'attribut d'un objet en paramètre, celui-ci restera modifié. </p>
        </block>
        <block title="Passage des objets par référence">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions6.html" data-opened="js"></div>
        </block>
    </slide>
    

    <subsection>Portée des variables</subsection>

    <slide>
        <title>Les portées des variables</title>
        <block title="Portée locale vs. portée globale">
            <ul>
                <li>Portée globale : pour les variables déclarées (avec <code>var</code>) en dehors de toute fonction, qui 
                seront accessibles de n'importe où (ie. dans n'importe quelle fonction ou en dehors), mais aussi les variables 
                affectées dans une fonction sans avoir été déclarées (!)</li>
                <li>Portée locale : pour les variables déclarées (avec <code>var</code>) dans une fonction, qui 
                    ne seront accessible que depuis la fonction où elles sont déclarées. </li>
            </ul>
        </block>   
        <block title="Illustration de la portée des variables">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions7.html" data-opened="js"></div>
        </block>
    </slide>
    
    <slide>
        <title>Les portées des variables</title>
        
        <block title="Déclarer des variables avec <code>const</code> et <code>let</code>">
            <p>Pour pallier au problème de portée des variables déclarées avec <code>var</code>, ES2017 a introduit 
            deux mots-clés pour définir des données : </p>
            <ul>
                <li><code>const</code> qui permet de définir une constante. Celle-ci constante devra obligatoirement être déclarée avec une valeur assignée. </li>
                <li><code>let</code> qui permet de déclarer une variable locale au bloc de code considéré. </li>
            </ul>
        </block>

        <block title="Illustration de la portée des variables">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions7-1.html" data-opened="js"></div>
        </block>

        
    </slide>


    <slide>
        <title>Déclaration vs. Expressions</title>

        <block title="Expression de fonction">
            <p>La notation vue précédemment <code>function f(...) { ... }</code> est une déclaration de fonction. On peut aussi 
            définir une fonction comme une expression qui sera stockée dans une variable. </p>
            
            <p><code>var f = function(<i>arguments...</i>) { /* ... code de la fonction ... */ }</code></p>
            
            <p>On déclare ainsi une <i>fonction anonyme</i> qui sera appelée par l'intermédiaire de la variable dans laquelle 
            elle est enregistrée. </p>
        </block>
        
        <block title="Expression de fonction">
            <div class="playground nohtml nocss noiframe console h20" data-href="./examples/jsFunctions8.html" data-opened="js"></div>
        </block>
    </slide>

    
    <slide>
        <title>Notation alternative</title>

            <block title="Arrow functions">
            <p>ES2015 a introduit les fonctions fléchées (arrow functions). Il s'agit d'un sucre syntaxique [avec une 
                petite subtilité, on y reviendra plus tard] pour 
            la déclaration d'une fonction dans le plus pure style de la programmation fonctionnelle à la Caml. 
            </p>
            
            <table>
                <tr>
                    <td>Au lieu d'écrire :</td><td>on pourra écrire :</td>
                </tr> 
                <tr>
                    <td style="width: 40%;"><code>function (a, b) { <br>
                        &nbsp;&nbsp;return a + b; <br>
                        }</code></td><td><code>(a, b) => { return a + b; }</code></td>
                </tr>
                <tr>
                    <td><code>function (a, b) {<br>
                        &nbsp;&nbsp;return a + b; <br>}</code></td><td><code>(a, b) => a + b;</code><br>S'il n'y a qu'une instruction on économise le <code>return</code></td>
                </tr>
                <tr>
                    <td><code>function (a) { <br>
                        &nbsp;&nbsp;return a * a; <br>}</code></td><td><code>a => a * a;</code><br>S'il n'y a qu'un seul paramètre, pas besoin de <code>(...)</code></td>
                </tr>
            </table>
            
            <p>Voir <url>https://medium.freecodecamp.org/arrow-functions-in-javascript-2f8bf7df5077</url> pour plus de détails
            sur l'utilité de cette notation.</p>
        </block>
    </slide>

    <slide>
        <title>Un premier bilan sur les fonctions</title>

        <block title="Deux informations importantes">
        <ul>
            <li>Les fonctions peuvent être stockées dans des variables, si déclarées comme des expressions. Dans ce cas, il s'agit de fonctions anonymes.</li>
            <li>Les fonctions peuvent être utilisées comme des valeurs, qui sont passées en paramètre, ou renvoyées par une fonction. </li>
        </ul>
        </block>
        <block title="La programmation fonctionnelle pour les petits joueurs">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions10.html" data-opened="js"></div>
        </block>
    </slide>
        
    <slide>
        <title>Un premier bilan sur les fonctions</title>

       <block title="La programmation fonctionnelle pour les petits joueurs">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions11.html" data-opened="js"></div>
        </block>
        
        <p style="margin-top: 3vh;">Functional programming in Javascript : <url>https://www.youtube.com/watch?v=e-5obm1G_FY</url></p>

    </slide>


    <slide>
        <title>Fonctions immédiatement invoquées (IIEF)</title>
        
        <block title="Qu'est-ce que c'est ? &Agrave; quoi ça sert ?">
            <p>Cette pratique consiste à déclarer une fonction qui s'exécute immédiatement. L'intérêt principal est de créer 
            une portée locale dont les variables ne viendront pas "polluer" le scope global. </p>
        </block>
        
        <block title="IIEF, syntaxe et principe">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions17.html" data-opened="js"></div>
        </block>
        
    </slide>

    <slide> 
        <title>Fonctions immédiatement invoquées (IIEF)</title>

        <block title="Quelques remarques">
            <ul>
                <li>Les déclaration de fonctions ne peuvent pas être écrites sous cette forme. </li>
                <li>Si la fonction retourne un résultat, celui-ci peut bien sûr être récupéré. </li>
            </ul>
        </block>
        
        <block title="Self-invoking functions">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions12.html" data-opened="js"></div>
        </block>
    </slide>


    <slide>
        <title>Retour sur les gabarits de chaîne</title>
        
        <p>Les gabarits de chaîne peuvent aussi contenir des étiquettes grâce à la syntaxe <code>etiquette`...`</code>. 
        On parle alors de gabarits étiquetés. </p>
        
        <p>Dans ce cas l'étiquette est une fonction <code>function(chaines, ...expressions)</code> où le premier paramètre 
        est un tableau des différentes sous-chaines "fixes" constituant le gabarit, et les paramètres restants sont les 
        expressions contenues dans la chaîne. </p>
            
        <block title="Gabarits étiquetés">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsStringTemplate2.html" data-opened="js"></div>
        </block>
        
    </slide>

    
   <slide>
        <title>Déclaration vs. Expressions</title>
        <block title="Quelle différence entre les deux ?">
            <p>En Javascript, il existe un mécanisme qui s'applique automatiquement sur le code et qui va 
                remonter les déclarations (fonctions ou variables) en début de script ou de fonction. </p>
            <p>De ce fait, les déclarations de fonctions sont remontées, tandis que seule la déclaration de la variable
            contenant la fonction est remontée, mais pas son initialisation. </p>
        </block>
        
       <block title="Déclaration vs. expression">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions9.html" data-opened="js"></div>
       </block>
       
    </slide>


    <subsection>Hoisting et closures</subsection>

    <slide>
        <title>Le hoisting en Javascript</title>

        <block title="Le hoisting, qu'est-ce que c'est ?">
            <p>Le hoisting est un principe de Javascript qui consiste à faire remonter automatiquement les déclarations 
                (fonctions ou variables) au début du script ou de la fonction correspondante. </p>
            <p>Attention, le hoisting a pour effet de ne faire remonter que 
                la déclaration, et pas l'initialisation. </p>
        </block>
        
        <block title='Exemple de "hoisting"'>
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions13.html" data-opened="js"></div>
        </block>
        
    </slide>

    <slide>
        <title>Les closures</title>
        
        <block title="Les closures - qu'est-ce que c'est ?">
        <p>En Javascript une closure est une fonction (anonyme ou non) qui va accéder aux variables de l'environnement dans lequel 
            elle est définie et les utiliser/modifier. </p>
        </block>
        
        <block title="Exemple de closure">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions14.html" data-opened="js"></div>
        </block>
        
    </slide>

    
    <slide>
        <title>Les closures</title>
        
        <block title="Un concept pas si simple à appréhender">
        <p>Une closure ("fermeture") est appelée ainsi car elle enferme avec elle les variables qui se trouvaient dans l'environnement où elle est définie. Lorsqu'elle s'exécute, les variables sont accédées et utilisées comme si elles étaient globales, pourtant ces
            variables restent locales à la fonction dans laquelle elles étaient déclarées. </p>
        </block>
        
        <block title="Un autre exemple de closure">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions15.html" data-opened="js"></div>
        </block>
        
    </slide>
    


    <slide>
        <title>Curryfication en Javascript</title>

        <block title="Petit souvenir de PFS (?)">
            <p>La curryfication est un processus qui consiste à casser une fonction à plusieurs arguments 
            pour en faire une suite d'appels de fonctions avec chacun des arguments successifs (nom donné 
            d'après Haskell Brooks Curry). 
            En Javascript, les closures permettent de réaliser ce genre de procédé.</p>
        </block>
        
        <block title="Currification en Javascript">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsFunctions16.html" data-opened="js"></div>
        </block>
        
        <p>Pour plus d'informations sur ce concept (un peu abstrait) : <url>https://fr.wikipedia.org/wiki/Curryfication</url></p>
        
    </slide>
    
    
    <section>Les tableaux</section>
    
    <subsection>Généralités</subsection>

    <slide outline class="no-navigation section  currentSection">
        <title>Plan du chapitre</title>
    </slide>
    
    <slide>
        <title>Les tableaux</title>
        
        <block title="Qu'est-ce que c'est ?">
        <p>Les tableaux sont des structures de données classiques qui permettent de stocker plusieurs valeurs. </p>
        <p>En Javascript, les tableaux sont toujours indicés par des entiers. Le contenu n'est pas obligatoirement
            homogène. </p>
        </block>
        
        <block title="Déclaration d'un tableau">
        <p>Pour déclarer un tableau, on utilise la syntaxe suivante : </p>
        <p><code>var profsDuS6 = ["jube", "fred", "jmh", 42]; </code></p> 
            <p>Il existe aussi une autre syntaxe pour faire la même chose : </p>
            <code>var profsDuS6 = new Array("jube", "fred", "jmh", 42); </code>
            <p>Toutefois, bien que les tableaux (tout comme les chaînes) soient considérés comme des objets, 
                il n'est pas nécessaire de les instancier avec un <code>new</code> pour des questions de 
                performances.</p>
            <p>A noter que <code>new Array(10)</code> créé un tableau vide de taille 10, mais <code>new Array("10")</code> 
                créé un tableau contenant le seul élément <code>"10"</code>. </p>
        </block>
        
    </slide>


    <slide>
        <title>Les tableaux</title>
        
        <block title="Accéder au contenu d'un tableau">
        <p>Pour accéder au contenu d'un tableau, on utilise la notation <code>[<i>indice</i>]</code> classique. <br>
            L'indice est forcément une expression de type entier (ou qui sera convertie en entier pour être 
            évaluée). </p>
            <p>La longueur d'un tableau est donnée par sa propriété <code>length</code>.</p>
        </block>
        
        <block title="Un premier exemple, déjà vu précédemment">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsArray1.html" data-opened="js"></div>
        </block>
        
    </slide>

    <slide>
        <title>Les tableaux</title>
        
        <block title="Tester qu'une variable est un tableau.">
            <p>L'utilisation de <code>typeof</code> ne va pas nous aider : <code>typeof []</code> &rarr; <code>"object"</code>.</p>
            <p>Trois solutions : </p>
            <ol>
                <li>Utiliser <code>Array.isArray(<i>t</i>)</code>, mais celui-ci n'est supporté que depuis ECMAScript 5 (pas sur
                les anciens navigateurs). </li>
                <li>Tester le constructeur : <code><i>t</i>.constructor.toString()indexOf("Array") > -1</code> ... un peu tordu non ? </li>
                <li>Utiliser <code><i>t</i> instanceof Array</code> : la meilleure solution</li>
            </ol>
        </block>
                
    </slide>


    <slide>
        <title>Les tableaux</title>
        
        <block title="Ajouter des éléments à un tableau existant.">
            <p>Plusieurs solutions existent, exemple avec <code>t = ["fred", "jube"]</code> : </p>
            <ul>
                <li>Utiliser l'indice : <code>t[n]</code>, sachant que <br>
                un indice inférieur strictement à la longueur écrase un élément existant : <code>t[0] = "jmh"</code> &rarr; <code>["jmh", "jube"]</code><br>
                un indice supérieur strictement à la longueur crééra des vides : <code>t[3] = "jmh"</code> &rarr; <code>["fred", "jube", undefined, "jmh"]</code></li>
                <li>Utiliser la méthode <code>push(<i>valeur</i>)</code> : <code>t.push("jmh")</code> &rarr; <code>["fred","jube","jmh"]</code><br>
                Cette méthode équivaut à <code>t[t.length] = "jmh"</code></li>
                <li>Utiliser la méthode <code>splice</code> qui permet d'insérer des éléments à un indice spécifique en effaçant certains éléments : <code>t.splice(1, 0, "jmh")</code> &rarr; <code>["fred", "jmh", "jube"]</code></li>
            </ul>
        </block>
                
    </slide>

    <subsection>Méthodes utiles</subsection>
    
    <slide>
        <title>Les tableaux - méthodes utiles</title>
        
        <block title="Méthodes de construction de tableau">
            <table class="" style="font-size: 90%;">
                <tr>
                    <td style="width: 20vw;">Fonction</td><td>Description</td>
                </tr>
                <!-- manipulation d'éléments -->
                <tr>
                    <td><code><i>t1</i>.concat(<i>t2</i>, <i>t3</i>, ...)</code></td>
                    <td>Renvoie la concaténation du tableau avec le(s) tableau(x) en paramètre.
                    <br><code>var t1 = ["a"], t2 = ["b","c"], t3 = [42];</code> <br>
                        <code>t1.concat(t2, t3)</code> &rarr; <code>["a", "b", "c", 42]</code></td>
                </tr>
                <tr>
                    <td><code><i>t</i>.copyWithin(<i>i</i>, <i>d</i>, <i>f</i>)</code></td>
                    <td>Renvoie le tableau où on a remplacé les éléments à partir de l'indice&nbsp;<code><i>i</i></code> par une copie<br>
                        des éléments entre les indices <code><i>d</i></code> (inclus) et <code><i>f</i></code> (exclu).<br>
                        <code>var t = ["a","b","c",42];</code> <br>
                        <code>t.copyWithin(1, 2, 4)</code> &rarr; <code>["a", "c", 42, 42]</code></td>
                </tr>
                <tr>
                    <td><code><i>t</i>.fill(<i>v</i>, <i>d</i>, <i>f</i>)</code></td>
                    <td>Remplit le tableau <code><i>t</i></code> avec la valeur <code><i>v</i></code> entre les indices optionnels <code><i>d</i></code> (inclus) et <code><i>f</i></code> (exclu). <br>
                    <code>var t = [1, 2, 3, 4, 5];<br>
                        t.fill(42, 1, 3); &rarr; t == [1, 42, 42, 4, 5]</code></td>
                </tr>
            </table>
        </block>
    </slide>

    <slide>
        <title>Les tableaux - méthodes utiles</title>
        
        <block title="Méthodes de recherches dans un tableau">
            <table class="" style="font-size: 90%;">
                <tr>
                    <td style="width: 20vw;">Fonction</td><td>Description</td>
                </tr>
                <tr>
                    <td><code><i>t</i>.indexOf(<i>e</i>,<i>d</i>)</code></td>
                    <td>Renvoie l'indice de la première occurrence de <code><i>e</i></code> dans le tableau, en commençant à l'indice optionnel <code><i>d</i></code>.<br>
                    <code>var t = [1, 2, 4, 5, 3, 2, 1];<br>t.indexOf(2, 3) &rarr; 5
                    </code>                    
                    </td>
                </tr>
                <tr>
                    <td><code><i>t</i>.lastIndexOf(<i>e</i>,<i>d</i>)</code></td>
                    <td>Renvoie l'indice de la dernière occurrence de <code><i>e</i></code> dans le tableau, en commençant à l'indice optionnel <code><i>d</i></code>.<br>
                    <code>var t = [1, 2, 4, 5, 3, 2, 1];<br>t.lastindexOf(1) &rarr; 6
                    </code>                    
                    </td>
                </tr>
                <tr>
                    <td><code><i>t</i>.includes(<i>e</i>)</code></td>
                    <td>Teste sur l'élément existe dans le tableau [ES2016].<br>
                    <code>var t = [1, 2, 4, 5, 3, 2, 1];<br>t.includes(42) &rarr; false
                    </code>                    
                    </td>
                </tr>                
            </table>
        </block>
    </slide>

    <slide>
        <title>Les tableaux - méthodes utiles</title>
                
          <block title="Méthodes qui ajoutent/suppriment des éléments dans un tableau">
            <table class="" style="font-size: 90%;">
                <tr>
                    <td style="width: 20vw;">Fonction</td><td>Description</td>
                </tr>

                <tr>
                    <td><code><i>t</i>.push(<i>e1</i>,<i>e2</i>,...)</code></td>
                    <td>Ajoute en fin de tableau les éléments en paramètres et renvoie la nouvelle taille du tableau.<br>
                        <code>var t = ["fred","jube"];<br>t.push("jmh", "dermas") &rarr; 4</code> et <code> t == ["fred","jube","jmh","dermas"]
                    </code>                    
                    </td>
                </tr>
                <tr>
                    <td><code><i>t</i>.unshift(<i>e1</i>,<i>e2</i>,...)</code></td>
                    <td>Ajoute en début de tableau les éléments en paramètres et renvoie la taille du nouveau tableau.<br>
                        <code>var t = ["fred","jube"];<br>t.unshift("jmh", "dermas") &rarr; 4</code> et <code>t == ["jmh","dermas",fred","jube"]
                    </code>                    
                    </td>
                </tr>
                <tr>
                    <td><code><i>t</i>.shift()</code></td>
                    <td>Retire et retourne le premier élément du tableau.<br>
                        <code>var t = ["fred","jube","jmh"];<br>t.shift() &rarr; "fred"</code> et <code>t == ["jube", "jmh"]
                    </code>                    
                    </td>
                </tr>
                <tr>
                    <td><code><i>t</i>.pop()</code></td>
                    <td>Retire et renvoie le dernier élément du tableau.<br>
                        <code>var t = ["fred","jube"];<br>t.pop() &rarr; "jube"</code> et <code>t == ["fred"]
                    </code>                    
                    </td>
                </tr>
            </table>
        </block>
    </slide>

    <slide>
        <title>Les tableaux - méthodes utiles</title>

        <block title="Méthodes qui modifient le tableau d'origine">
            <table class="" style="font-size: 90%;">
                <tr>
                    <td style="width: 20vw;">Fonction</td><td>Description</td>
                </tr>

                <tr>
                    <td><code><i>t</i>.reverse()</code></td>
                    <td>Inverse l'ordre des éléments du tableau et revoie celui-ci.<br>
                        <code>var t = ["fred","jube","jmh"];<br>t.reverse() &rarr; ["jmh", "jube", "fred"]
                    </code>                    
                    </td>
                </tr>
                <tr>
                    <td><code><i>t</i>.splice(<i>i</i>,<i>n</i>, <i>e1</i>, <i>e2</i>,...)</code></td>
                    <td>Ajoute les éléments à l'indice <code><i>i</i></code>, et supprime à cet indice <code><i>n</i></code> éléments qui 
                        seront renvoyés par la fonction.<br>
                        <code>var t = ["fred","jube","jmh","dermas"]<br>
                            t.splice(2,1,"karla"); &rarr; ["jmh"]</code> et <code> t == ["fred","jube","karla","dermas"]
                    </code>                    
                    </td>
                </tr>
            </table>
        </block>
    </slide>

    <slide>
        <title>Les tableaux - méthodes utiles</title>
                
        <block title="Méthodes renvoyant un tableau, sans modifier l'original">
            <table class="" style="font-size: 90%;">
                <tr>
                    <td style="width: 20vw;">Fonction</td><td>Description</td>
                </tr>

                <tr>
                    <td><code><i>t</i>.join(<i>sep</i>)</code></td>
                    <td>Renvoie une chaîne dans laquelle les éléments de <code><i>t</i></code> sont joints par le séparateur <code><i>sep</i></code> (optionnel - par défaut <code>,</code>)<br>
                    <code>var t = [1, 2, 3, 4, 5]; <br>
                        t.join("-") &rarr; "1-2-3-4-5" </code></td>
                </tr>
                <tr>
                    <td><code><i>t</i>.slice(<i>d</i>,<i>f</i>)</code></td>
                    <td>Retourne un sous-tableau contenant les éléments du tableau entre l'indice <code><i>d</i></code> (inclus) et 
                        <code><i>f</i></code> (exclu).<br>
                        <code>var t = ["fred","jube","jmh","dermas"]<br>
                            t.slice(1,3); &rarr; ["jube","jmh"]
                    </code>                    
                    </td>
                </tr>
            </table>
        </block>
    </slide>

    <subsection>Méthodes avec des fonctions en paramètre</subsection>
    
    <slide>
        <title>Les tableaux - méthodes utiles</title>
                
        <block title="Méthodes utilisant des fonctions en paramètres">
            <table class="" style="font-size: 90%;">
                <tr>
                    <td style="width: 20vw;">Fonction</td><td>Description</td>
                </tr>
                <tr>
                    <td><code><i>t</i>.every(<i>f</i>)</code></td>
                    <td>Vérifie si tous les éléments du tableau vérifient la fonction en paramètre.<br>
                    Signature de <code>f</code> : <code>function(<i>valeurCourante</i>, <i>indice</i>, <i>tableau</i>)</code><br>
                    Les deux derniers paramètres sont optionnels. </td>
                </tr>
            </table>
        </block>        
        
        <block title="Exemple de la fonction <code>every</code>">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsArray2.html" data-opened="js"></div>
        </block>
    </slide>
                
    <slide>
        <title>Les tableaux - méthodes utiles</title>
                
        <block title="Méthodes utilisant des fonctions en paramètres">
            <table class="" style="font-size: 90%;">
                <tr>
                    <td style="width: 20vw;">Fonction</td><td>Description</td>
                </tr>
                <tr>
                    <td><code><i>t</i>.filter(<i>f</i>)</code></td>
                    <td>Extrait les éléments du tableau qui satisfont la fonction en paramètre. Ne modifie par le tableau d'origine. <br>
                    Signature de <code>f</code> : <code>function(<i>valeurCourante</i>, <i>indice</i>, <i>tableau</i>)</code><br>
                    Les deux derniers paramètres sont optionnels. </td>
                </tr>
            </table>
        </block>        
        
        <block title="Exemple de la fonction <code>filter</code>">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsArray3.html" data-opened="js"></div>
        </block>
    </slide>

    <slide>
        <title>Les tableaux - méthodes utiles</title>
                
        <block title="Méthodes utilisant des fonctions en paramètres">
            <table class="" style="font-size: 90%;">
                <tr>
                    <td style="width: 20vw;">Fonction</td><td>Description</td>
                </tr>
                <tr>
                    <td><code><i>t</i>.findIndex(<i>f</i>)</code></td>
                    <td>Retourne l'indice du premier élément du tableau qui passe le test de la fonction.<br>
                    Signature de <code>f</code> : <code>function(<i>valeurCourante</i>, <i>indice</i>, <i>tableau</i>)</code><br>
                    Les deux derniers paramètres sont optionnels. </td>
                </tr>
            </table>
        </block>        
        
        <block title="Exemple de la fonction <code>findIndex</code>">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsArray4.html" data-opened="js"></div>
        </block>
    </slide>

    <slide>
        <title>Les tableaux - méthodes utiles</title>
                
        <block title="Méthodes utilisant des fonctions en paramètres">
            <table class="" style="font-size: 90%;">
                <tr>
                    <td style="width: 20vw;">Fonction</td><td>Description</td>
                </tr>
                <tr>
                    <td><code><i>t</i>.forEach(<i>f</i>)</code></td>
                    <td>Applique la fonction à chaque élément du tableau.<br>
                    Signature de <code>f</code> : <code>function(<i>valeurCourante</i>, <i>indice</i>, <i>tableau</i>)</code><br>
                    Les deux derniers paramètres sont optionnels. </td>
                </tr>
            </table>
        </block>        
        
        <block title="Exemple de la fonction <code>forEach</code>">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsArray5.html" data-opened="js"></div>
        </block>
    </slide>

    <slide>
        <title>Les tableaux - méthodes utiles</title>
                
        <block title="Méthodes utilisant des fonctions en paramètres">
            <table class="" style="font-size: 90%;">
                <tr>
                    <td style="width: 20vw;">Fonction</td><td>Description</td>
                </tr>
                <tr>
                    <td><code><i>t</i>.map(<i>f</i>)</code></td>
                    <td>Retourne un nouveau tableau composé des éléments du tableau d'origine sur lesquels on a appliqué la fonction.<br>
                    Signature de <code>f</code> : <code>function(<i>valeurCourante</i>, <i>indice</i>, <i>tableau</i>)</code><br>
                    Les deux derniers paramètres sont optionnels. </td>
                </tr>
            </table>
        </block>        
        
        <block title="Exemple de la fonction <code>map</code>">
            <div class="playground nohtml nocss noiframe console h20" data-href="./examples/jsArray6.html" data-opened="js"></div>
        </block>
    </slide>

    <slide>
        <title>Les tableaux - méthodes utiles</title>
                
        <block title="Méthodes utilisant des fonctions en paramètres">
            <table class="" style="font-size: 90%;">
                <tr>
                    <td style="width: 20vw;">Fonction</td><td>Description</td>
                </tr>
                <tr>
                    <td><code><i>t</i>.reduce(<i>f</i>, <i>initiale</i>)</code></td>
                    <td>Retourne un nouveau tableau composé des éléments du tableau d'origine sur lesquels on a appliqué 
                        la fonction (de gauche à droite).<br>
                    Signature de <code>f</code> : <code>function(<i>accumulateur</i>, <i>valeurCourante</i>, <i>indice</i>, <i>tableau</i>)</code><br>
                    Les deux derniers paramètres sont optionnels. </td>
                </tr>
            </table>
        </block>        
        
        <block title="Exemple de la fonction <code>reduce</code>">
            <div class="playground nohtml nocss noiframe console h20" data-href="./examples/jsArray7.html" data-opened="js"></div>
        </block>
    </slide>

    <slide>
        <title>Les tableaux - méthodes utiles</title>
                
        <block title="Méthodes utilisant des fonctions en paramètres">
            <table class="" style="font-size: 90%;">
                <tr>
                    <td style="width: 20vw;">Fonction</td><td>Description</td>
                </tr>
                <tr>
                    <td><code><i>t</i>.reduceRight(<i>f</i>, <i>initiale</i>)</code></td>
                    <td>Retourne un nouveau tableau composé des éléments du tableau d'origine sur lesquels on a appliqué 
                        la fonction (de droite à gauche).<br>
                    Signature de <code>f</code> : <code>function(<i>accumulateur</i>, <i>valeurCourante</i>, <i>indice</i>, <i>tableau</i>)</code><br>
                    Les deux derniers paramètres sont optionnels. </td>
                </tr>
            </table>
        </block>        
        
        <block title="Exemple de la fonction <code>reduceRight</code>">
            <div class="playground nohtml nocss noiframe console h20" data-href="./examples/jsArray8.html" data-opened="js"></div>
        </block>
    </slide>


    <slide>
        <title>Les tableaux - méthodes utiles</title>
                
        <block title="Méthodes utilisant des fonctions en paramètres">
            <table class="" style="font-size: 90%;">
                <tr>
                    <td style="width: 20vw;">Fonction</td><td>Description</td>
                </tr>
                <tr>
                    <td><code><i>t</i>.some(<i>f</i>)</code></td>
                    <td>Vérifie si au moins un des éléments du tableau vérifie la fonction en paramètre.<br>
                    Signature de <code>f</code> : <code>function(<i>valeurCourante</i>, <i>indice</i>, <i>tableau</i>)</code><br>
                    Les deux derniers paramètres sont optionnels. </td>
                </tr>
            </table>
        </block>        
        
        <block title="Exemple de la fonction <code>some</code>">
            <div class="playground nohtml nocss noiframe console h20" data-href="./examples/jsArray9.html" data-opened="js"></div>
        </block>
    </slide>



    <slide>
        <title>Les tableaux - méthodes utiles</title>
                
        <block title="Méthodes utilisant des fonctions en paramètres">
            <table class="" style="font-size: 90%;">
                <tr>
                    <td style="width: 20vw;">Fonction</td><td>Description</td>
                </tr>
                <tr>
                    <td><code><i>t</i>.sort(<i>f</i>)</code></td>
                    <td>Trie le tableau par rapport à la fonction de comparaison (optionnelle - si absente, comparaison classique).<br>
                    Signature de <code>f</code> : <code>function(<i>valeur1</i>, <i>valeur2</i>)</code><br>
                        Renvoie : <code>0</code> si les deux valeurs sont égales, une valeur négative si <code>valeur1 &lt; valeur2</code>, 
                    une valeur positive si <code>valeur1 &gt; valeur2</code></td>
                </tr>
            </table>
        </block>        
        
        <block title="Exemple de la fonction <code>sort</code>">
            <div class="playground nohtml nocss noiframe console h20" data-href="./examples/jsArray10.html" data-opened="js"></div>
        </block>
    </slide>

    
    <section>Les objets</section>
    
    <slide outline class="no-navigation section  currentSection">
        <title>Plan du chapitre</title>
    </slide>
    
    <subsection>Généralités</subsection>
    
    <subsubsection>La notion d'objet</subsubsection>
    
    <slide>
        <title>Les objets</title>
    
        <block title="Qu'est-ce que c'est ?">
        <p>Les objets représentent des entités du monde réel ou virtuel. Ils possèdent des propiétés qui permettent 
            de caractériser leur état, et des méthodes qui permettent de le faire évoluer. </p>
        </block>
        
        <block title="Les objets sont partout !">
            <p>En Javascript, à part les types primitifs (entiers, chaine, booléen, null, undefined), tout le reste 
            est objet : les objets bien sûr, mais aussi des objets spéciaux/prédéfinis comme Date, Maths, les expressions 
                régulières, les tableaux et les fonctions.</p>
            <p>A noter que Number, Boolean et String sont des objets (si créés avec <code>new</code>, mais on évitera 
            de le faire).</p>
        </block>
        
        <block title="Une première notation (déjà rencontrée)">
        <p>En Javascript, les objets sont et peuvent être déclarés comme un ensemble de couples <code>(nom, valeur)</code>. </p>
        <p>La syntaxe pour déclarer un objet : <code>var personne = { nom: "Smet", prenom: "Jean-Philippe" };</code></p>
        </block>
        
    </slide>
    
     
    <slide>
        <title>Les objets</title>
    
        <block title="Les méthodes des objets">
        <p>En Javascript, les fonctions sont des valeurs de variables comme les autres. Les méthodes des objets 
            sont donc des fonctions. </p>
        <p>Comme dans tous les langages objet classiques, on retrouve le mot-clé <code>this</code> pour désigner
            l'objet sur lequelle la fonction est invoquée. </p>
        </block>
        
        <block title="Un premier exemple d'objet">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObject1.html" data-opened="js"></div>
        </block>
        
    </slide>
    
    <slide>
        <title>Les objets</title>
    
        <block title="Accéder aux membres des objets">
        <ul>
            <li>L'accès aux propriétés d'un objet peut se faire soit avec la notation <code>objet.propriete</code>, 
            soit avec la notation <code>objet["propriete"]</code>.</li>    
            <li>L'accès aux méthodes d'un objet ne se fait que via la notation <code>objet.methode(...)</code>
            qui réalise l'invocation de la méthode sur l'objet. 
            En l'absence des <code>(...)</code>, <code>objet.methode</code> renvoie la fonction. </li>
        </ul>
        </block>
        
        <block title="Un premier exemple d'objet">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObject2.html" data-opened="js"></div>
        </block>
  
    </slide>
    
    <subsubsection>Les membres d'un objet</subsubsection>
  
    <slide>
        <title>Les objets</title>
    
        <block title="Ajouter des propriétés à un objet">
        <p>Il est possible d'ajouter directement une propriété à un objet, comme si on faisait une simple affectation : <br>
            <code>obj.nouvellePropriete = valeur;</code></p>
        <p>A noter qu'il est ainsi possible d'ajouter des propriétés à des objets natifs, mais cette pratique est à éviter. </p>
        </block>
        <block title="Supprimer des propriétés d'un objet">
        <p>Il est également possible de supprimer les propriétés d'un objet avec le mot-clé <code>delete</code> : <br>
            <code>delete obj.proprieteASupprimer;</code></p>
        </block>
    </slide>
    
    <slide>
        <title>Les objets - les propriétés</title>
    
        <block title="Les getters/setters">
            <p>Depuis ES2015, Javascript offre la possibilité d'utiliser des getters et des setters (des accesseurs) qui seront 
                automatiquement appelés lorsque l'on utilise la notation <code>objet.accesser</code> lors d'une évaluation (get)
                ou d'une affectation (set). </p>
        </block>

        <block title="Exemple de getter/setter">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObjectGetterSetter1.html" data-opened="js"></div>
        </block>
    
    </slide>
    
    <slide>
        <title>Les objets - les propriétés</title>
        
        <block title="Définir une propriété avec Object.defineProperty(...)">
        <p>La classe <code>Object</code> propose quelques méthodes statiques intéressantes pour manipuler les objets. 
            Notamment, <code>defineProperty(obj, prop, desc)</code> permet d'ajouter à l'objet <code>obj</code> la 
            propriété <code>prop</code> avec un descripteur <code>desc</code>.
        </p>
        <p>Suivant que la propriété est une donnée ou un accesseur, les propriétés suivantes sont possibles pour 
            le descripteur : </p>
            <ul>
                <li><code>configurable</code> : booléen indiquant si le type de propriété peut être changé et si 
                la propriété pourra être supprimée de l'objet. </li>
                <li><code>enumerable</code> : booléen indiquant si la propriété peut être listée dans une boucle <code>for...in</code></li>
                <li><code>writable</code> : booléen indiquant si la propriété peut-être modifiée (descripteur de donnée)</li>
                <li><code>value</code> : la valeur par défaut, <code>undefined</code> si non renseigné (descripteur de donnée)</li>
                <li><code>get</code> : fonction utilisée comme getter, <code>undefined</code> si pas d'accesseur (descripteur d'accesseur)</li>
                <li><code>set</code> : fonction utilisée comme setter, <code>undefined</code> si non renseigné (descripteur d'accesseur)</li>
            </ul>
        </block>
        
        <p>Voir <url>https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Object/defineProperty</url> pour les 
                details.</p>
    
    </slide>

    <slide>
        <title>Les objets</title>
        
        <block title="Lister les propriétés d'un objet">
        <p>La structure de boucle <code>for...in</code> permet de parcourir les attributs d'un objet. </p>
        </block>
        
        <block title="Enumérer les propriétés d'un objet">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObjectFor1.html" data-opened="js"></div>
        </block>
    
    </slide>
    
    <subsubsection>Quelques concepts avancés</subsubsection>
    
    <slide>
        <title>Les objets - propriétés énumérables</title>
         
        <block title="Les propriétés énumarables">
            <p>Pour qu'une propriété apparaisse dans une itération <code>for...in</code>, elle doit être <code>enumerable</code>.
                Pour contrôler cette propriété sur un attribut, il faut passer par la méthode <code>Object.defineProperty(...)</code>. 
            </p>
        </block>

        <block title="Exemple de définition de propriété énumerable">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObjectFor2.html" data-opened="js"></div>
        </block>
            
    </slide>  
    
    
    <slide>
        <title>Les fonctions sont des objets</title>
    
        <block title="L'objet Function">
            <p>Les fonctions déclarées dans le code sont des objets <code>Function</code> qui possèdent notamment : un nom 
                (<code>name</code>), une taille (<code>length</code>) représentant le nombre d'arguments.  
                Ceci a deux conséquences : </p>
            <ul>
                <li>assigner une fonction à une variable assigne la référence de l'objet Function correspondant, créant un alias pour
                la fonction d'origine</li>
            <li>il est possible de leur assigner des propriétés ou des fonctions (cela ne semble pas très utile sur le moment, mais 
                vous allez voir par la suite, c'est juste central). 
            </ul>
        </block>

        <block title="Objet fonction">
            <div class="playground nohtml nocss noiframe console h20" data-href="./examples/jsObjectsFunctions1.html" data-opened="js"></div>
        </block>
    </slide>
    
    
    <subsubsection>La valeur <code>this</code></subsubsection>
    
    <slide>
        <title>Les objets</title>
    
        <block title="L'utilisation de <code>this</code> dans les fonctions">
        <p>Etant donné que ce sont des objets, les fonctions peuvent donc, dans leur code, faire référence à <code>this</code>, 
            même si ces fonctions ne sont pas rattachées à un objet. Dans ce cas, elles référenceront l'objet global.</p>
        </block>
        
        <block title="Utiliser <code>this</code> dans une fonction">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObject3.html" data-opened="js"></div>
        </block>

    </slide>

    <slide>
        <title>Les objets</title>
    
        <block title="L'utilisation de <code>this</code> dans les fonctions fléchées">
        <p>Attention, contrairement à une fonction déclarée avec le mot-clé <code>function</code>, les fonctions fléchées 
            ne sont pas liées à l'objet <code>this</code> de l'objet qui les contient. Pour elles, <code>this</code> 
            représente l'objet qui a définit cette fonction (closure).</p>
        </block>
        
        <block title="Valeur de <code>this</code> dans une fonction fléchée">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObject3bis.html" data-opened="js"></div>
        </block>

    </slide>

    
    <slide>
        <title>Les objets</title>
    
        <block title="Créer des fonctions liées">
        <p>Lors de leur appel, il sera possible de rattacher à ces fonctions l'objet à considérer comme <code>this</code>. </p>
        <p>On utilise pour cela la méthde <code>bind</code> proposée par l'objet <code>Function</code> qui créé une fonction liée 
            <code>var boundF = f.bind(objet);</code> qu'il ne restera plus qu'à invoquer ensuite : <code>boundF(...)</code>.</p>
        <p>De manière générale, <code>bind</code> permet aussi de fixer certains arguments de la fonction liée, pas uniquement 
            <code>this</code>. </p>
        </block>

        <block title="Rattacher un objet lors d'un appel de fonction">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObject4.html" data-opened="js"></div>
        </block>
    
    </slide>   
    
    
    <slide>
        <title>Les objets</title>
    
        <block title="Réaliser un appel de fonction sur un objet">
            <p>Une autre solution consiste à s'appuyer sur la méthode <code>apply</code> également présente dans les fonctions. </p>
            <p>La syntaxe est la suivante : <code>f.apply(objetThis, tableauArguments)</code>.</p>
        </block>

        <block title='Appel de fonction "externe" sur un objet avec <code>apply</code>'>
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObject6.html" data-opened="js"></div>
        </block>
    
    </slide>   
    
    <slide>
        <title>Les objets</title>
    
        <block title="Réaliser un appel de fonction sur un objet">
        <p>Une autre solution consiste à s'appuyer sur la méthode <code>call</code> également présente dans les fonctions. </p>
        <p>La syntaxe est la suivante : <code>f.call(objetThis, argument1, argument2, ...)</code></p>
        </block>

        <block title='Appel de fonction "externe" sur un objet avec <code>call</code>'>
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObject5.html" data-opened="js"></div>
        </block>
    
        <p><code>bind</code>, <code>apply</code> et <code>call</code> permettent notamment de "voler" une méthode d'un objet pour l'invoquer sur un autre. </p>
        
    </slide>   
    

    <!---
    <slide>
        <title>Les objets</title>
    
        <block title="Un bilan sur le <code>this</code>">
        <p>En Javascript, <code>this</code> désigne l'objet qui possède le code.</p>
        <ul>
            <li>quand il est utilisé dans une fonction, il s'agit de l'objet qui possède la fonction</li>    
            <li>quand il est utilisé dans un objet, il s'agit de l'objet en lui-même</li>
            <li>quand il est utilisé dans un constructeur d'objet, il s'agit d'un substitut pour le nouvel objet</li>
            <li>la valeur de <code>this</code> sera ensuite le nouvel objet quand le constructeur est utilisé pour construire un objet. </li>
        </ul>
        </block>

        <block title="Constructeur d'objets">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObject7.html" data-opened="js"></div>
        </block>
            
    </slide>   
    --->
    
    <slide>
        <title>Les objets</title>
    
        <block title="Petit rappel sur le <code>new</code>">
        <p>Javascript propose des constructeurs intégrés pour les objets natifs (<code>Object</code>, <code>String</code>, <code>Number</code>, 
            <code>Boolean</code>, <code>Array</code>, <code>RegExp</code>, <code>Function</code>, <code>Date</code>).</p>
        </block>

        <block title="Cas des types primitifs">
            <p>Bien que Javascript propose des objets pour les types natifs, il n'est pas nécessaire : </p>
            <ul>
                <li>d'utiliser <code>new Object()</code> pour créer un objet, on utilisera plutôt le littéral <code>{}</code></li>
                <li>d'utiliser <code>new String(...)</code> pour créer une chaîne, on utilisera plutôt le littéral <code>"..."</code></li>
                <li>d'utiliser <code>new Number(42)</code> pour créer un nombre, on utilisera plutôt le nombre en littéral <code>42</code></li>
                <li>d'utiliser <code>new Boolean(false)</code> pour créer un booléen, on utilisera plutôt le littéral <code>false</code></li>
                <li>d'utiliser <code>new Array()</code> pour créer un tableau, on utilisera plutôt le littéral <code>[]</code></li>
                <li>d'utiliser <code>new RegExp(...)</code> pour créer une expression régulière, on utilisera plutôt <code>/.../..</code></li>
                <li>d'utiliser <code>new Function(...)</code> pour créer une fonction, on utilisera plutôt <code>function(...){...}</code></li>
            </ul>
        </block>
            
    </slide>   

    <subsection>Les prototypes</subsection>

    <slide>
        <title>Les objets - Construire des objets à partir d'un prototype</title>
    
        <block title="Construire plusieurs objets">
        <p>La notation <code>{...}</code> permet de construire un seul objet. Pour construire un ensemble d'objets contenant les 
            mêmes propriétés, Javascript propose un mécanisme spécifique nommé <code>prototype</code>. </p>
        <p>Cette notion permet de créer des objets qui "héritent" automatiquement des propriétés et fonctions d'un 
            objet de référence, appelé... <i>prototype</i>.</p>
        <p>Pour créer un objet à partir d'un prototype, on utilise la méthode <code>Object.create(<i>proto</i>)</code>.</p>
        </block>
                    
        <block title="Construction d'un objet par prototype">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObjects13.html" data-opened="js"></div>
        </block>
    </slide>
    
        
    
    <subsubsection>Fonctionnement</subsubsection>
    
    <slide>
        <title>Les objets - les prototypes</title>
    
        <block title="Les prototypes - Qu'est-ce que c'est ?">
            <p>Il s'agit du mécanisme d'héritage de Javascript. Chaque objet a un prototype, et les 
                prototypes sont eux-mêmes des objets. Les objets héritent des propriétés et des
                méthodes de leur prototype. </p>
            <p>Un prototype est donc un objet qui sert de ressource pour fournir un ensemble de 
            propriétés et de méthodes à un objet. </p>
        </block>
        
        <block title="Principe de fonctionnement">
            <p>Pour accéder à une propriété ou à une fonction de l'objet courant, Javascript applique 
            le principe suivante : </p>
            <ul>
                <li>Si la propriété/fonction est dans l'objet, c'est elle qui est considérée.</li>
                <li>Sinon, on regarde si la propriété/fonction est présente dans le prototype de l'objet. 
                    Si c'est le cas, c'est elle qui est considérée.</li>
                <li>Si la propriété/fonction n'est pas dans le prototype, on recommence avec le prototype 
                du prototype, et ainsi de suite. </li>
                <li>Si toute la chaîne de prototype a été explorée et que la propriété/fonction n'a pas 
                été trouvée, alors la valeur est <code>undefined</code>.</li>
            </ul>
        </block>

    </slide>
        
    <slide>
        <title>Tous les objets possèdent des prototypes</title>
        
        <block title="Des prototypes pour tous les objets">
            <p>Au somme de la hiérarchie, tous les objets héritent d'un prototype <code>Object.prototype</code>. </p>
            <p>Par exemple, les objets <code>Date</code> héritent de <code>Date.prototype</code>, qui 
            lui-même hérite de <code>Object.prototype</code>. </p>
        </block>
        
        <block title="...enfin presque tous">
            <p>Par définition, le prototype <code>Object</code> n'a pas de prototype (il est au sommet de la hiérarchie). </p>
            <p>Il est également possible de créer des objets sans prototype (<i>prototype-less</i>), avec 
            <code>var objSansPrototype = Object.create(null)</code>. </p>
        </block>        
        
    </slide>


    <slide>
        <title>Prototype par défaut</title>
        <block title="Prototypes par défaut">
            <img src="images/objets1.png" style="float: right; width: 45vw; margin-top: 2vh; margin-left: 3vh; display: block; border: solid 1px #000;">
            <p>Par défaut, </p>
            <ul>
                <li>tous les objets créés (avec la notation <code>{...}</code>) ont pour prototype <code>Object.prototype</code>.</li>
                <li>toutes les fonctions ont pour prototype <code>Function.prototype</code>.</li>
            </ul>
            <p>Ces deux prototypes existent "nativement" en Javascript, ce sont eux qui proposent des méthodes communes 
            à tous les objets/fonctions, comme par exemple <code>toString()</code> pour les objets, ou <code>call</code>, 
            <code>bind</code>, <code>apply</code> pour les fonctions.</p>
        </block>
        
        
    </slide>
    
    <slide>
        <title>Surcharge et polymorphisme</title>
    
        <block title="Qu'est-ce que c'est ? Et comment faire ?">
            <p>En orienté objet, le polymorphisme est la capacité pour une fonction de produire une résultat différent
            en fonction du contexte dans laquelle elle est invoquée. </p>
        <p>Pour réaliser ceci, il suffit de déclarer dans l'objet, la fonction que l'on souhaite surcharger. </p>
        </block>
        
        <block title="Surcharge et polymorphisme">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObjects14.html" data-opened="js"></div>
        </block>
        
    </slide>
    
 
    <slide>
        <title>Surcharge et polymorphisme</title>
    
        <block title="Appeler une méthode du prototype">
            <p>Pour éviter de dupliquer dans un objet, le code métier qui serait dans une fonction de son prototype, 
                on peut directement appeler celle-ci. </p>
            <p>Pour ce faire, on utiliser <code>protoype.fonction.call(this,...)</code> pour bien référencer la fonction
                du prototype, mais invoquée sur l'objet courant.</p>
        </block>
        
        <block title="Surcharge et polymorphisme">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObjects15.html" data-opened="js"></div>
        </block>
        
    </slide>
    
    
    <slide>
        <title>Propriétés propres vs. héritées</title>
        
        <block title="Propriétés propres aux objets">
            <p>Pour savoir si une propriété est propre à un objet ou si elle a été héritée, il est possible d'utiliser 
                la méthode <code>hasOwnProperty(prop)</code> héritée du prototype de <code>Object</code>.  </p>
        </block>

        <block title="Exemple de hasOwnProperty">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsHasOwnProperty.html" data-opened="js"></div>
        </block>

    </slide>
    
    <subsubsection>La POO en Javascript</subsubsection>

    <slide>
        <title>Classes et instanciation</title>
        
        <block title="Programmation orientée objet en Javascript">
        <p>Il y a une bonne et une mauvaise nouvelle :</p>
        <ul>
            <li>Javascript n'est pas un langage de classe, un langage dans lequel les classes sont 
            définies proprement, et la hiérachie d'héritage est clairement établie.</li>
            <li>Il existe néanmoins une syntaxe proche de celle des langages de programmation objet 
                qui permet de retrouver les mots-clés classiques.</li>
            <li>Toutefois, quand on connaît le mécanisme sous-jacent, on sait et on peut l'utiliser
                à bon escient pour construire des objets et une hiérarchie d'objet qui fonctionne.</li>
        </ul>
        </block>
        
        <p>Nous allons désormais voir comment mettre en place la structuration présentée précédemment, 
        dans un contexte plus générique, proche de celui de classes et d'héritage qui est plus classique 
        en POO.</p>
        
        <p>Une excellente ressource sur le sujet : <url>http://www.objectplayground.com/</url><br>
        (forte source d'inspiration de cette partie)</p>
    </slide>
    
    
    <slide>
        <title>Organiser ses prototypes</title>
    
        <block title="Une première approche - placer les fonctions dans un prototype particulier">
            <p>Un premier principe est d'utiliser un prototype pour contenir les fonctions de nos objets, et
                de construire les objets à partir de ce prototype. </p>
        </block>
        
        <block title="Exemple - Isolation des fonctions dans un prototype">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObjects16.html" data-opened="js"></div>
        </block>
        
    </slide>
    
    <slide>
        <title>Organiser ses prototypes</title>
    
        <block title="Exemple - Visualisation graphique">
            <img src="images/objets4.png" style="float: right; width: 30vw; height: 17vw; margin-top: 10vh;display: block; border: solid 1px #000;">
            <div class="playground nohtml nocss nooutput console h50" data-href="./examples/jsObjects16.html" data-opened="js"></div>
       </block>
        
        
    </slide>       
        
   <slide>
        <title>Organiser ses prototypes</title>
    
        <block title="Une première approche - ajouter l'héritage">
            <p>Toujours sur le même principe, on peut créer un second prototype, à partir du premier, pour les
                objets plus spécialisés. Le nouveau prototype contient les nouvelles functions et les fonctions
                surchargées. </p>
        </block>
        
        <block title="Exemple - Second prototype basé sur le premier">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObjects17.html" data-opened="js"></div>
        <p>On retrouve une structuration classique en classes, instances, et sous-classes. Mais niveau technique, c'est 
            pas top : logique métier dupliquée, violation de l'encapsulation.</p> 
       </block>
        
    </slide>
            
    <slide>
        <title>Organiser ses prototypes</title>
    
        <block title="Une première approche - améliorer l'initialisation">
            <p>Pour pallier au problème d'accéder aux propriétés d'un objet et de devoir dupliquer ce type d'action, 
                on va utiliser un constructeur pour initialiser les propriétés de nos objets. </p>
        </block>
        
        <block title="Exemple - Second prototype basé sur le premier">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObjects18.html" data-opened="js"></div>
       </block>
        
    </slide>
    
    <slide>
        <title>Organiser ses prototypes</title>
    
        <block title="Exemple - Visualisation graphique">
            <img src="images/objets5.png" style="float: right; width: 45vw; height: 19vw; margin-top: 10vh;display: block; border: solid 1px #000;">
            <div class="playground nohtml nocss nooutput console h50" data-href="./examples/jsObjects18.html" data-opened="js"></div>
       </block>
        
        
    </slide>       
    
    <slide>
        <title>Construire des objets</title>
    
        <block title="Le modèle basé sur les prototypes - bilan">
            <p>L'approche basée sur les prototypes proposée ici fonctionne, dans le sens où elle va bien construire 
                une chaîne de prototype correctement structurée. </p>
            <p>Toutefois, on constatera que l'opération de créer un objet et de l'initialiser avec un constructeur 
            est une action classique, qui est habituellement réalisée par le mot-clé <code>new</code> dans les 
            langages de programmation.</p>
        </block>
        
        <block title="Une seconde approche - le modèle classique avec new">
        <p>Le modèle classique est une autre manière, plus conventionnelle, de construire des objets. Il s'agit de la 
            représentation que vous rencontrerez le plus souvent. </p>
        </block>
        
    </slide>
            
    
    <slide>
        <title>Les objets - Construire des objets</title>
    
        <block title="Une particularité des fonctions">
        <p>Lorsque l'on déclare une fonction en Javascript, un objet <code>Function</code> est créé en mémoire, celui-ci possède en 
            réalité 3 propriétés : un nom, un taille et...un prototype. </p>
            <p>La particularité est que cette propriété <code>prototype</code> de notre fonction pointe sur un objet 
            (créé automatiquement en mémoire) présentant une propriété <code>constructor</code> qui renvoie sur... 
            la fonction elle-même. </p>
        </block>

        <block title="Un petit dessin vaut mieux qu'un long discours">
            <img src="images/objets2.png" style="float: right; width: 40vw; height: 10vw; display: block; margin-top: 10vh; border: solid 1px #000;">
            <div class="playground nohtml nocss nooutput h30" data-href="./examples/jsObjects19.html" data-opened="js"></div>
        </block>
            
    </slide>   

    <slide>
        <title>Les objets - Construire des objets</title>
    
        <block title="Oh wait!">
            <p>Cela ressemble à quelque chose que l'on connaît...</p>
                <img src="images/objets3.png" style="float: right; width: 40vw; height: 25vw; display: block; border: solid 1px #000;">
                <div class="playground nohtml nocss nooutput h40" data-href="./examples/jsObjects20.html" data-opened="js"></div>
            <p>Oui, c'est le modèle de prototype vu précedemment.</p>
        </block>
            
    </slide>   

    <slide>
        <title>Les objets - Construire des objets</title>
    
        <block title="Quelle est la conséquence de tout cela ?">
            <p>Chaque function possède son propre prototype associé : </p>
            <ul>
            <li>La plupart du temps, quand on déclare des fonctions qui n'ont pas de but spécifique, celui-ci ne servira rien. </li>
            <li>Par contre, si on utilise ces fonctions comme constructeurs d'objet, le prototype de la méthode sera utilisé. </li>
            </ul>
            <p>C'est l'appel de la fonction avec le mot-clé <code>new</code> qui aura cet effet. </p>
        </block>
        
        <block title="Que se passe-t-il quand on fait <code>new MaFonction()</code> ?">
            <ul>
                <li>un nouvel objet est créé</li>
                <li>ses propriétés sont initialisées par le code de la fonction (via <code>this.XXX = ...</code>)</li>
                <li>le prototype de l'objet créé sera...le prototype contenu dans la propriété éponyme de la fonction utilisée</li>
            </ul>
        </block>
            
    </slide>   
    
     <slide>
        <title>Les objets - Construire des objets</title>
    
         <block title="En image !">
            <img src="images/objets6.png" style="float: right; width: 45vw; height: 19vw; margin-top: 5vh; display: block; border: solid 1px #000;">
            <div class="playground nohtml nocss nooutput h40" data-href="./examples/jsObjects21.html" data-opened="js"></div>
         </block>
            
    </slide>   
    
     <slide>
        <title>Les objets - Construire des objets</title>
    
         <block title="Modèle de prototype vs. modèle classique">
            <img src="images/objets7.png" style="float: left; width: 43vw; height: 17vw; margin-top: 5vh; display: block; border: solid 1px #000;">
             
            <img src="images/objets6.png" style="float: right; width: 43vw; height: 17vw; margin-top: 5vh; display: block; border: solid 1px #000;">
         </block>
            
    </slide>   
    
    
    <slide>
        <title>Encapsulation</title>
    
        <block title="Vous avez dit encapsuler ?">
            <p>Jusqu'à présent, les objets créés encapsulent des attributs ayant une visibilité publique : ils sont nécessairement
            accessibles depuis l'extérieur puisque déclarés avec <code>this.</code>.</p>
            <p>Il est pourtant possible de rendre des attributs et des méthodes privées au sein d'un objet. Pour ce faire, au lieu 
            de les déclarer comme un membre de l'objet (préfixé par <code>this.</code>), on les déclare comme une variable interne
            à l'objet. On laisse les closures faire le reste. </p>
        </block>

        <block title="Attributs et méthodes privées">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObjects10.html" data-opened="js"></div>
        </block>
            
    </slide>  
        
    <slide>
        <title>Héritage avec prototype</title>
    
        <block title="Hériter avec des prototypes">
            <p>Pour réaliser un héritage avec un prototype, il y a 3 actions à réaliser :</p>
            <ul>
                <li>déclarer un constructeur sous la forme d'une fonction pour permettre de créer l'objet ; ceci va avoir pour 
                effet corrolaire de créer un prototype pour cette fonction. <br>
                <code>function MaSousClasse(...) { ... }</code></li>
                <li>ce prototype n'étant pas désiré (on souhaiterait qu'il pointe vers la "classe-mère"), on va créer un 
                objet pour le prototype de cette fonction.<br>
                <code>MaSousClasse.prototype = Object.create(MaFonction.prototype);</code><br>
                L'ancien prototype sera ainsi détaché de la fonction et détruit par le garbage collector. </li>
                <li>spécifier que le constructeur de ce nouveau prototype est la fonction constructeur de la sous-classe</li>
            </ul>
        </block>
        
    </slide>
    
    
     <slide>
        <title>Les objets - Héritage</title>
    
         <block title="Héritage avec le modèle classique">
            <div class="playground nohtml nocss noiframe console h50" data-href="./examples/jsObjects22.html" data-opened="js"></div>
         </block>
            
    </slide>   
    
     
    <slide>
        <title>Les objets - Héritage</title>
    
         <block title="En image !">
            <img src="images/objets8.png" style="float: right; width: 45vw; height: 25vw; margin-top: 5vh; display: block; border: solid 1px #000;">
            <div class="playground nohtml nocss nooutput h50" data-href="./examples/jsObjects22.html" data-opened="js"></div>
         </block>
            
    </slide>   


    <slide>
        <title>Prototypes vs. Classes</title>
                
        <block title="Comparaison des langages de classes et des langages de prototype">
        <table>
            <tr><td>Langages de classe (Java)</td><td>Langage de prototype (Javascript)</td></tr>
            <tr>
                <td>Les classes et les instances sont deux entités distinctes.</td> 
                <td>Tous les objets sont des instances.</td>
            </tr>
            <tr>
                <td>Une classe est définie avec une définition de classe. On instancie une classe avec des méthodes appelées constructeurs.</td>
                <td>On définit et on crée un ensemble d’objets avec des fonctions qui sont des constructeurs.</td>
            </tr>
            <tr>
                <td colspan="2">On crée un seul objet grâce à l’opérateur new.</td>
            </tr>
            <tr>
                <td>On construit une hiérarchie d’objets en utilisant les définitions des classes pour définir des classes-filles à partir de classes existantes.</td>
                <td>On construit une hiérarchie d’objets en assignant un prototype à un objet dans le constructeur de cet objet.</td>
            </tr>
            <tr>
                <td>Les objets héritent des propriétés appartenant à la chaîne des classes de la hiérarchie. </td>
                <td>Les objets héritent des propriétés appartenant à la chaîne des prototypes de la hiérarchie. </td>
            </tr>
            <tr>
                <td>La définition de la classe définit exactement toutes les propriétés de toutes les instances d’une classe. Il est impossible d’ajouter des propriétés dynamiquement pendant l’exécution. </td>
                <td>Le constructeur ou le prototype définit un ensemble de propriétés initiales. Il est possible d’ajouter ou de retirer des propriétés dynamiquement, pour certains objets en particuliers ou bien pour l’ensemble des objets.</td>
            </tr>
        </table>
        
        </block>        
    
    </slide>  
    
    <slide>
        <title>Les objets - Définir des méthodes statiques</title>
        
        <block title="Methodes statiques">
            <p>On peut aussi créer des méthodes statiques en les ajoutant directement à la fonction constructeur et non pas
                à son prototype. </p>
        </block>
        
        <block title="Exemple de méthode statique">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObjectsMethodeStatique.html" data-opened="js"></div>
        </block>
        
    </slide>
        
    

    
    <slide>
        <title>Les mot-clés class et extends</title>
    
        <block title="Pour les amoureux de Java">
            <p>ECMAScript 2015 a rajouté au standard des mots-clés bien connus : <code>class</code>, <code>extends</code>, 
                <code>super</code> comme sucre syntaxique pour les constructions définies précédemment. 
            </p>
        </block>

        <block title="Le même exemple avec class, extends et super">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObjects23.html" data-opened="js"></div>
        </block>
            
    </slide>
    
    
    <slide>
        <title>L'opérateur instanceof</title>
        
        <block title="Qu'est-ce que c'est ? Comment cela fonctionne-t-il ?">
            <p>Bien connu des adeptes de la programmation objet, cet opérateur permet de tester le type d'un objet.</p>
         
            <p>Cet opérateur renvoie <code>true</code> à l'expression <code>o instanceof C</code> si <code>C</code> appartient à la 
                chaîne de prototypes du constructeur de <code>o</code>. </p>
        </block>
        <block title="Exemple avec instanceof">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/jsObjects24.html" data-opened="js"></div>
        </block>
    </slide>
    

    <!--
    <slide>
        <title>Les objets - les prototypes</title>
    
        <block title="Ajouter des propriétés et des méthodes aux objets">
            <p>Nous avons vu qu'il était possible d'ajouter des propriétés et des méthodes à des objets.</p>
            <div class="playground nohtml nocss noiframe console h40" data-href="./examples/jsObject9.html" data-opened="js"></div>
            <p>Or ce principe ne permet pas d'ajouter propriétés et méthodes à tous les objets créés à partir du constructeur. <br>
            Il faut un moyen générique de créer un objet. </p>
        </block>

    </slide>  
    
    <slide>
        <title>Les objets - les prototypes</title>
    
        <block title="Ajouter des propriétés et des méthodes aux objets">
            <p>Pour ajouter des propriétés et des méthodes à tous les objets issus d'un même constructeur, il faut rajouter
                celles-ci au prototype de l'objet. Celui-ci est accessible via l'attribut <code>prototype</code>.</p>
        </block>
        
        <block title="Modification du prototype">
            <div class="playground nohtml nocss noiframe console h40" data-href="./examples/jsObject9.html" data-opened="js"></div>
        </block>

    </slide>  
    
    <slide>
        <title>Héritage</title>
    
        <block title="Réaliser un héritage avec des prototypes">
            <p>Pour réaliser un héritage, on raccroche un objet au prototype dont on souhaite le faire hériter.</p>    
        </block>

        <block title="Exemple d'héritage">
            <div class="playground nohtml nocss noiframe console h40" data-href="./examples/jsObjects11.html" data-opened="js"></div>
        </block>
            
    </slide>  
    
    <slide>
        <title>Héritage</title>
    
        <block title="Les prototypes et la chaîne d'héritage">
            <p>L'exemple précédent fonctionne de la manière suivante : </p>
        </block>

        <block title="Exemple d'héritage">
    
        </block>
            
    </slide>  
    
        
    <slide>
        <title>Les objets - introspection</title>
    
        <block title="Propriétés/méthodes propres à un objet vs. prototype">
           <p>Une boucle for...in permet d'itérer sur les attributs et les méthodes d'un objet. Toutefois, 
            il n'est pas possible de connaître les attrbuts et éléments issus du prototype de l'objet. </p>
         </block>

        <block title="">
            <div class="playground nohtml nocss noiframe console h40" data-href="./examples/jsObjectFor1.html" data-opened="js"></div>
        </block>
            
    </slide>  

    <slide>
        <title>Les objets - les prototypes</title>
    
        <block title="Propriétés/méthodes propres à un objet vs. prototype">
            <p>Pour qu'un attribut apparaisse dans une itération <code>for...in</code>, il doit présenter être 
                <code>enumerable</code>. </p>
        </block>

        <block title="">
            <div class="playground nohtml nocss noiframe console h40" data-href="./examples/jsObjectFor1.html" data-opened="js"></div>
        </block>
            
    </slide>  
    -->
 
    <subsection>JSON</subsection>

    <slide>
        <title>JSON</title>
        
        <block title="Qu'est-ce que c'est ?">
            <p>JSON signifie <strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation. 
            Il s'agit d'un format textuel pour stocker (enregistrer des objets structurés) et échanger des données (en les 
                sérialisant via des chaînes de caractères). </p>
        </block>
        
        <block title="Syntaxe">
            <p>La syntaxe de JSON s'inspire de la syntaxe des objets Javascript : </p>
            <ul>
                <li>les données sont présentées sous la forme <code>clé : valeur</code> où la clé est <u>obligatoirement délimitée</u> par des 
                guillemets doubles (ex. <code>"prenom" : "fred"</code>) ; </li>
                <li>les données sont séparées par des virgules <code>,</code></li>
                <li>les objets sont délimités par des accolades <code>{...}</code></li>
                <li>les tableaux sont délimités par des crochets <code>[...]</code></li>
            </ul>
            <p>A noter que les chaînes sont obligatoirement délimitées par des guillemets doubles. Les guillemets simples ne peuvent pas
                être utilisés comme délimiteurs. </p>
        </block>
        
    </slide>
    
    <slide>
        <title>JSON</title>
        
        <block title="Types de données autorisés">
            <p>Tous les types de données ne sont pas autorisés pour être enregistrés au format JSON. En effet, 
            celui-ci autorise : </p>
            <ul>
                <li>les nombres avec ou sans partie décimale, </li>
                <li>les booléens</li>
                <li>les chaînes (obligatoirement délimitées par des guillemets doubles)</li>
                <li>les tableaux</li>
                <li>le objets (sous la forme d'un objet JSON)</li>
                <li>la valeur <code>null</code></li>
            </ul>
            <p>De ce fait, les dates, les fonctions et <code>undefined</code> ne sont pas autorisés.</p>
        </block>
        
        <block title="Point important">
            <p>Bien que nommé à partir de Javascript, cette notation est un format purement textuel que l'on retrouve
            dans différents langages : PHP, Python, Ruby, Java, etc. Il s'agit d'une bonne alternative à XML pour échanger
            des données structurées. </p>
        </block>
        
    </slide>
    
    
      <slide>
        <title>JSON</title>
        
        <block title="Qu'est-ce qu'on en fait ?">
            <p>En tant que telle la notation JSON n'a pas vraiment d'avantages par rapport à la notation objet 
                classique de Javascript. L'obligation d'entourer les noms de propriétés de guillemets aurait même 
                tendance à rendre JSON moins facile d'usage. </p>
            <p>L'utilisation principale d'un objet JSON est d'offrir un mécanisme de stockage et d'échange plus simple et flexible 
            qu'XML. </p>
        </block>
        
        <block title="Sérialiser et désérialiser">
            <p>Dans tous les langages, il existe des primitives permettant de sérialiser un objet (d'en faire une chaine 
                de caractères) et de le désérialiser (le créer à partir d'une chaîne). En Javascript, ces méthodes 
            sont les suivantes : </p>
            <ul>
                <li><code>JSON.stringify(obj)</code> renvoie la chaîne de caractères sérialisant l'objet <code>obj</code>.</li>
                <li><code>JSON.parse(chaine)</code> renvoie l'objet extrait de la chaîne de caractères décrivant l'objet. </li>
            </ul>
        </block>
        
    </slide>
    
    <slide>
        <title>JSON</title>
        
        <block title="Exemple de JSON">
            <p>L'objet décrit au format JSON dans la zone de texte sera converti en "vrai" objet Javascript.</p>
            <div class="playground nocss h50" data-href="./examples/jsJSON1.html" data-opened="js"></div>
        </block>
    </slide>
        

    
    <section>Trucs en vrac à connaître</section>
    
    <slide outline class="no-navigation section currentSection">
        <title>Plan du chapitre</title>
    </slide>
    
    <slide>
        <title>Trucs à connaître</title>
        
        
        <block title="Garbage collector">
            <p>Javascript gère automatiquement la mémoire. Il possède ainsi un garbage collector (tout comme Java) 
            qui permet régulièrement de nettoyer les objets qui ne sont plus rattachés à aucune donnée. </p>
            
            <p>En conséquence, ce n'est pas à vous de gérer la suppression des objets. Attention toutefois à ne 
            pas surcharger la mémoire de petits objets, ou de petites variables, pour économiser les ressources. </p>
        </block>
        
        <block title="debugger">
            <p>Javascript possède un mot-clé <code>debugger</code> représentant une instruction qui, lorsqu'elle est 
                exécutée dans un environnement 
            à peine évolué (a minima un navigateur web avec des outils développeurs -- la plupart en proposent), 
            permet de stopper l'exécution du code et d'ouvrir le debugger pour offrir les possibilités classiques 
            de ce genre d'outil : inspection de la mémoire, exécution pas-à-pas, etc. </p>
        </block>
        
    </slide>
        
    <slide>
        <title>Destructuration</title>
        
        <block title="Destructuration">
            <p>Pour instancier plusieurs variables en même temps, il est possible de les assimiler à une donnée structurée 
            qui sera "déstructurée" pour faire correspondre aux valeurs. </p>
        </block>
    
        <block title="Exemple de destructuration">
            <div class="playground nohtml nocss noiframe console h30" data-href="./examples/destructuring.html" data-opened="js"></div>
        </block>
    </slide>    
    
    <slide>
        <title>Mode strict</title>
        <block title="Qu'est-ce que c'est ?">
            <p>Le mode <i>strict</i> en Javascript a été introduit pour signaler comme erreur des constructions
            du langages qui sont souvent inappropriées (utilisation de variables non déclarées, etc.) </p>
            <p>Pour utiliser ce mode, on déclare <code>"use strict";</code> en début de script, ou en début
            de fonction pour une portée locale (mais toujours au début sinon il est ignoré). </p>
            
            <table>
                <tr><td>Interdit en mode strict</td><td>Pourquoi</td></tr>
                <tr><td><code>x = "ouaf";</code></td><td>Interdit si <code>x</code> n'est pas déclaré.</td></tr>
                <tr><td><code>x = "ouaf";<br>delete x;</code></td><td>Interdit de supprimer une variable <code>x</code></td></tr>
                <tr><td><code>function f(p,p)</code></td><td>Paramètre <code>p</code> dupliqué</td></tr>
                <tr><td><code>var eval = ...</code></td><td>Mot clé réservé</td></tr>
                <tr><td><code>var arguments = ...</code></td><td>Mot clé réservé, idem pour <code>public</code>, etc.</td></tr>
                <tr><td><code>with (Math) { var x = cos(2); }</code></td><td>Construction <code>with</code> interdite</td></tr>
                <tr><td><code>eval("var x = 42;")</code></td><td><code>eval</code> ne peut pas créer de variable</td></tr>
            </table>
            
        </block>
    </slide>
            
    <slide>
        <title>Linter</title>
        <block title="Qu'est-ce que c'est ?">
            <p>JSLint, ESLint ou JSHint sont des "linter", c'est-à-dire des logiciels capables de réaliser (un peu) l'analyse
                statique du code Javascript en vue d'y détecter des erreurs, des mauvaises constructions, etc.</p>
            
            <p>Ils sont utilisables en ligne, soit comme extension de vos éditeurs de code préférés (pour peu que vous utilisiez
            autre chose que gedit ou textedit...). </p>
            
            <p>Bien qu'utiles, ils ne remplacent pas une bonne phase de test, mais ils permettent au moins de détecter 
                pas mal de petites erreurs. Ils sont généralement paramétrables pour fixer la granularité des erreurs 
                détectées. 
            </p>
            
            <p>Certains d'entre eux peuvent s'utiliser en ligne : <br>
            JSLint : <url>http://www.jslint.com/</url> ou JSHint : <url>http://jshint.com/</url></p>
            
        </block>
        
    </slide>
           
    <slide>
        <title>Ressources</title>
        
        <block title="Livres">
        <ul>
            <li>The Principles of Objet-Oriented Javascript - N. Zakas</li>
            <li>Javascript for Web Developers - Nicholas Zakas</li>
            <li>Eloquent Javascript - Marijn Haverbeke</li>
            <li>Secrets of the Javascript Ninja - John Resig et Bear Bibeault </li>
        </ul>
        </block>
        
        <block title="Sites web">
        <ul>
            <li>Référence complète : <url>https://developer.mozilla.org/fr/docs/Web/JavaScript</url></li>
            <li>Tutoriels et référence : <url>http://w3schools.com</url></li>
            <li>Exploring JS : <url>http://exploringjs.com/</url>
            <li>Javascript is sexy: <url>http://javascriptissexy.com/</url></li>
            <li>Et tellement d'autres...</li>
        </ul>
        </block>        
    </slide>
        
    <slide>
        <title>Ressources</title>

        <block title="Vidéos">
        <ul>
            <li>Comment fonctionnent les interpréteurs Javascript ? <br><url>https://www.youtube.com/watch?v=p-iiEDtpy6I</url></li>
            <li>Functional programming with Javascript : <br>
            <url>https://www.youtube.com/watch?v=e-5obm1G_FY</url></li>
            <li>Toutes les vidéos de Douglas Crockford, notamment celles-ci : <br>
            <url>https://www.youtube.com/watch?v=v2ifWcnQs6M</url>, <url>https://www.youtube.com/watch?v=DwYPG6vreJg</url> et <url>https://www.youtube.com/watch?v=NPB34lDZj3E</url></li>
        </ul>
        </block>
        
        <p>A vous de jouer :<br>
            <url>https://h5bp.github.io/Front-end-Developer-Interview-Questions/translations/french/#js-questions</url>
        </p>
        
    </slide>
    
    <slide options="no-navigation">

        <title2>Prochaine étape...</title2>
        
        <title1>Javascript dans le navigateur !</title1>
        
    </slide>
    
</slideshow>
    
    
</body>
    
</html>