<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Exemple 1 - Exemples d'asynchronisme en Javascript</title>
<style>
    img { display: block; margin: 5px; }
</style>
    <script src="./includeInIFrame.js"></script>
    <script>
function loadResources() {
    let debut = Date.now();
    
    let img1 = new Image(200, 300);
    img1.onload = function(_e) { 
        log("Image 1 loaded -- " + (Date.now() - debut)); 
        document.body.appendChild(this); 
    }
    img1.onerror = function(_e) { 
        log("Error on Image 1 -- " + (Date.now() - debut)); 
    }
    log("Loading image 1 -- " + (Date.now() - debut));
    img1.src = "../images/blake1.jpg";
    
    let img2 = new Image(200, 300);
    img2.onload = function(_e) { 
        log("Image 2 loaded -- " + (Date.now() - debut)); 
        document.body.appendChild(this); 
    }
    img2.onerror = function(_e) { 
        log("Error on Image 2 -- " + (Date.now() - debut)); 
    }
    log("Loading image 2 -- " + (Date.now() - debut));
    img2.src = "../images/blake2.jpg";
    
    let img3 = new Image(200, 300);
    img3.onload = function(_e) { 
        log("Image 3 loaded -- " + (Date.now() - debut)); 
        document.body.appendChild(this); 
    }
    img3.onerror = function(_e) { 
        log("Error on Image 3 -- " + (Date.now() - debut)); 
    }
    log("Loading image 3 -- " + (Date.now() - debut));
    img3.src = "../images/blake3.jpg";
    
    log("End of script -- " + (Date.now() - debut));    
}
function log(txt) {
    document.body.innerHTML += txt + "<br>";   
}
</script>
</head>

<body>
    <input type="button" id="bouton" onclick="loadResources()" value="Executer"><br>
</body>

</html>
    